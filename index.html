<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gaby's Style - Cejas, Pesta√±as & Labios</title>
  
  <!-- Google Auth -->
  <meta name="google-signin-client_id" content="460424594977-cuo5kttqufdspj1vamu2dmo9tr9lpd5g.apps.googleusercontent.com">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>
    // INICIALIZAR EMAILJS CON TUS CREDENCIALES
    emailjs.init("cV1a2nnO7ksij3b8B");
  </script>
  
  <style>
    /* TODOS LOS ESTILOS ANTERIORES SE MANTIENEN IGUAL */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #fff5f7 0%, #ffeef2 100%);
      color: #333;
      scroll-behavior: smooth;
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 20px 100px;
      background: rgba(255, 255, 255, 0.98);
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 99;
      box-shadow: 0 2px 20px rgba(233, 30, 99, 0.1);
      backdrop-filter: blur(10px);
    }

    .logo {
      font-size: 2em;
      color: #e91e63;
      user-select: none;
      font-weight: 700;
    }

    .navigation {
      display: flex;
      align-items: center;
      gap: 30px;
    }

    .navigation a {
      position: relative;
      font-size: 1.1em;
      color: #e91e63;
      text-decoration: none;
      font-weight: 500;
    }

    .navigation a::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: -6px;
      width: 100%;
      height: 3px;
      background: #e91e63;
      border-radius: 5px;
      transform-origin: right;
      transform: scaleX(0);
      transition: transform .5s;
    }

    .navigation a:hover::after {
      transform-origin: left;
      transform: scaleX(1);
    }

    .navigation .btnLogin-popup {
      width: 130px;
      height: 50px;
      background: transparent;
      border: 2px solid #e91e63;
      outline: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1.1em;
      color: #e91e63;
      font-weight: 500;
      transition: .5s;
    }

    .navigation .btnLogin-popup:hover {
      background: #e91e63;
      color: #fff;
    }

    /* PERFIL DE USUARIO */
    .user-profile {
      display: none;
      align-items: center;
      gap: 15px;
      color: #e91e63;
      position: relative;
    }

    .user-avatar {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: #e91e63;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 1.2em;
      border: 2px solid #e91e63;
      cursor: pointer;
      transition: all 0.3s;
    }

    .user-avatar:hover {
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
    }

    .user-info {
      display: flex;
      flex-direction: column;
    }

    .user-name {
      font-weight: 600;
      font-size: 1em;
    }

    .user-email {
      font-size: 0.8em;
      color: #c2185b;
    }

    /* MEN√ö DESPLEGABLE DEL PERFIL */
    .profile-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      background: white;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(233, 30, 99, 0.2);
      padding: 15px 0;
      min-width: 200px;
      z-index: 1000;
      display: none;
      border: 1px solid rgba(233, 30, 99, 0.1);
      animation: dropdownFade 0.3s ease;
    }

    @keyframes dropdownFade {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .profile-dropdown.active {
      display: block;
    }

    .dropdown-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 20px;
      color: #e91e63;
      text-decoration: none;
      transition: all 0.3s;
      cursor: pointer;
    }

    .dropdown-item:hover {
      background: #fff5f7;
    }

    .dropdown-item i {
      font-size: 1.2em;
      width: 20px;
      text-align: center;
    }

    .dropdown-divider {
      height: 1px;
      background: rgba(233, 30, 99, 0.1);
      margin: 8px 0;
    }

    .dropdown-item.logout {
      color: #f44336;
      border-top: 1px solid rgba(233, 30, 99, 0.1);
      margin-top: 5px;
      padding-top: 15px;
    }

    .dropdown-item.logout:hover {
      background: #ffebee;
    }

    /* SECCIONES PRINCIPALES */
    .section {
      padding: 120px 20px 100px;
      min-height: 100vh;
    }

    /* HOME SECTION */
    #home {
      background: linear-gradient(rgba(233, 30, 99, 0.1), rgba(233, 30, 99, 0.05));
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: white;
      position: relative;
      padding-top: 150px;
      overflow: hidden;
    }

    .hero-content {
      background: rgba(255, 255, 255, 0.95);
      padding: 60px 40px;
      border-radius: 25px;
      backdrop-filter: blur(10px);
      max-width: 1200px;
      box-shadow: 0 20px 40px rgba(233, 30, 99, 0.2);
      border: 1px solid rgba(233, 30, 99, 0.1);
      position: relative;
      z-index: 2;
    }

    .hero-content h1 {
      font-size: 3.5em;
      margin-bottom: 20px;
      color: #e91e63;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .hero-content p {
      font-size: 1.3em;
      margin-bottom: 30px;
      color: #666;
      line-height: 1.6;
    }

    /* GALER√çA DE FOTOS EN EL HOME */
    .beauty-gallery {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin: 40px 0;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }

    .gallery-item {
      position: relative;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(233, 30, 99, 0.2);
      transition: all 0.3s ease;
      aspect-ratio: 3/4;
    }

    .gallery-item:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(233, 30, 99, 0.3);
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .gallery-item:hover img {
      transform: scale(1.1);
    }

    .gallery-label {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(233, 30, 99, 0.9));
      color: white;
      padding: 20px 15px 15px;
      text-align: center;
      font-weight: 600;
      font-size: 1.1em;
    }

    .cta-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .cta-btn {
      padding: 15px 30px;
      background: #e91e63;
      color: white;
      text-decoration: none;
      border-radius: 10px;
      font-weight: 600;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
      border: none;
      cursor: pointer;
      font-size: 1em;
    }

    .cta-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
      background: #c2185b;
    }

    .scroll-down {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      color: #e91e63;
      font-size: 2em;
      animation: bounce 2s infinite;
      cursor: pointer;
      background: rgba(255, 255, 255, 0.9);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
      z-index: 2;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) translateX(-50%);
      }
      40% {
        transform: translateY(-10px) translateX(-50%);
      }
      60% {
        transform: translateY(-5px) translateX(-50%);
      }
    }

    /* FONDOS DECORATIVOS */
    .floating-element {
      position: absolute;
      border-radius: 50%;
      background: linear-gradient(45deg, #e91e63, #ff80ab);
      opacity: 0.1;
      animation: float 6s ease-in-out infinite;
    }

    .floating-element:nth-child(1) {
      width: 200px;
      height: 200px;
      top: 10%;
      left: 5%;
      animation-delay: 0s;
    }

    .floating-element:nth-child(2) {
      width: 150px;
      height: 150px;
      top: 60%;
      right: 10%;
      animation-delay: 2s;
    }

    .floating-element:nth-child(3) {
      width: 100px;
      height: 100px;
      bottom: 20%;
      left: 15%;
      animation-delay: 4s;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0px) rotate(0deg);
      }
      50% {
        transform: translateY(-20px) rotate(180deg);
      }
    }

    /* MODAL DE RESERVAS */
    .reservation-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(233, 30, 99, 0.1);
      backdrop-filter: blur(10px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .reservation-modal.active {
      display: flex;
    }

    .reservation-content {
      background: linear-gradient(135deg, #fff5f7 0%, #ffeef2 100%);
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      max-height: 85vh;
      overflow-y: auto;
      padding: 30px;
      box-shadow: 0 25px 50px rgba(233, 30, 99, 0.2);
      position: relative;
      border: 2px solid rgba(233, 30, 99, 0.2);
    }

    .close-reservation {
      position: absolute;
      top: 0;
      right: 0;
      width: 45px;
      height: 45px;
      background: #e91e63;
      font-size: 1.5em;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      border-bottom-left-radius: 15px;
      cursor: pointer;
      z-index: 1;
      transition: background 0.3s;
    }

    .close-reservation:hover {
      background: #c2185b;
    }

    .reservation-content h2 {
      font-size: 1.8em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 25px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .reservation-form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .reservation-form .input-box {
      margin: 15px 0;
      background: rgba(255, 255, 255, 0.8);
    }

    .reservation-form select {
      width: 100%;
      height: 50px;
      background: transparent;
      border: none;
      outline: none;
      font-size: 1em;
      color: #e91e63;
      font-weight: 600;
      padding: 0 35px 0 15px;
    }

    .reservation-form textarea {
      width: 100%;
      height: 80px;
      background: rgba(255, 255, 255, 0.8);
      border: 2px solid rgba(233, 30, 99, 0.2);
      border-radius: 10px;
      outline: none;
      font-size: 1em;
      color: #e91e63;
      font-weight: 600;
      padding: 12px;
      resize: vertical;
      transition: all 0.3s;
      margin-top: 5px;
    }

    .reservation-form textarea:focus {
      border-color: #e91e63;
      box-shadow: 0 0 10px rgba(233, 30, 99, 0.2);
    }

    .form-row {
      display: flex;
      gap: 12px;
    }

    .form-row .input-box {
      flex: 1;
    }

    .location-options {
      display: flex;
      gap: 12px;
      margin: 12px 0;
    }

    .location-option {
      flex: 1;
      text-align: center;
      padding: 12px;
      background: rgba(255, 255, 255, 0.8);
      border: 2px solid rgba(233, 30, 99, 0.2);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.9em;
    }

    .location-option:hover,
    .location-option.selected {
      background: #e91e63;
      color: white;
      border-color: #e91e63;
    }

    /* MODALES DE PERFIL, CITAS Y FAVORITOS */
    .profile-modal, .appointments-modal, .favorites-modal, .settings-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(233, 30, 99, 0.1);
      backdrop-filter: blur(10px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .profile-modal.active, .appointments-modal.active, .favorites-modal.active, .settings-modal.active {
      display: flex;
    }

    .profile-content, .appointments-content, .favorites-content, .settings-content {
      background: linear-gradient(135deg, #fff5f7 0%, #ffeef2 100%);
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      max-height: 85vh;
      overflow-y: auto;
      padding: 30px;
      box-shadow: 0 25px 50px rgba(233, 30, 99, 0.2);
      position: relative;
      border: 2px solid rgba(233, 30, 99, 0.2);
    }

    .close-profile, .close-appointments, .close-favorites, .close-settings {
      position: absolute;
      top: 0;
      right: 0;
      width: 45px;
      height: 45px;
      background: #e91e63;
      font-size: 1.5em;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      border-bottom-left-radius: 15px;
      cursor: pointer;
      z-index: 1;
      transition: background 0.3s;
    }

    .close-profile:hover, .close-appointments:hover, .close-favorites:hover, .close-settings:hover {
      background: #c2185b;
    }

    .profile-content h2, .appointments-content h2, .favorites-content h2, .settings-content h2 {
      font-size: 1.8em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 25px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    /* ESTILOS PARA CITAS - CON FUNCIONALIDAD DE CANCELACI√ìN */
    .appointments-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 20px;
    }

    .appointment-card {
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.1);
      border: 1px solid rgba(233, 30, 99, 0.1);
      transition: all 0.3s;
    }

    .appointment-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.15);
    }

    .appointment-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .appointment-service {
      font-weight: 600;
      color: #e91e63;
      font-size: 1.1em;
    }

    .appointment-status {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8em;
      font-weight: 600;
    }

    .status-confirmed {
      background: #e8f5e8;
      color: #2e7d32;
    }

    .status-pending {
      background: #fff3e0;
      color: #ef6c00;
    }

    .status-cancelled {
      background: #ffebee;
      color: #f44336;
    }

    .appointment-details {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .appointment-date, .appointment-time, .appointment-location {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #666;
      font-size: 0.9em;
    }

    /* FUNCIONALIDAD DE CANCELACI√ìN */
    .appointment-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    
    .cancel-btn {
      background: transparent;
      border: 1px solid #f44336;
      color: #f44336;
      padding: 8px 15px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.8em;
      font-weight: 600;
    }
    
    .cancel-btn:hover {
      background: #f44336;
      color: white;
    }
    
    .cancel-confirmation {
      display: none;
      background: #fff5f7;
      border: 2px solid #e91e63;
      border-radius: 10px;
      padding: 15px;
      margin-top: 15px;
    }
    
    .cancel-confirmation p {
      color: #e91e63;
      margin-bottom: 15px;
      font-weight: 600;
    }
    
    .confirmation-buttons {
      display: flex;
      gap: 10px;
    }
    
    .confirm-cancel {
      background: #f44336;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }
    
    .cancel-cancel {
      background: transparent;
      border: 1px solid #e91e63;
      color: #e91e63;
      padding: 8px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
    }
    
    .appointment-cancelled {
      opacity: 0.7;
      background: #f5f5f5;
    }
    
    .cancelled-badge {
      background: #f44336;
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8em;
      font-weight: 600;
      margin-left: 10px;
    }

    .no-appointments, .no-favorites {
      text-align: center;
      padding: 40px 20px;
      color: #e91e63;
    }

    .no-appointments i, .no-favorites i {
      font-size: 3em;
      margin-bottom: 15px;
      display: block;
    }

    /* ESTILOS PARA FAVORITOS */
    .favorites-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 15px;
      margin-top: 20px;
    }

    .favorite-card {
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.1);
      border: 1px solid rgba(233, 30, 99, 0.1);
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .favorite-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.15);
    }

    .favorite-icon {
      width: 50px;
      height: 50px;
      background: #e91e63;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5em;
    }

    .favorite-info {
      flex: 1;
    }

    .favorite-name {
      font-weight: 600;
      color: #e91e63;
      margin-bottom: 5px;
    }

    .favorite-price {
      color: #666;
      font-size: 0.9em;
    }

    .remove-favorite {
      background: transparent;
      border: 1px solid #f44336;
      color: #f44336;
      padding: 8px 15px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.8em;
    }

    .remove-favorite:hover {
      background: #f44336;
      color: white;
    }

    /* BOT√ìN DE FAVORITOS EN SERVICIOS */
    .favorite-btn {
      background: transparent;
      border: 2px solid #e91e63;
      color: #e91e63;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      margin-top: 15px;
      width: 100%;
    }

    .favorite-btn:hover {
      background: #e91e63;
      color: white;
    }

    .favorite-btn.favorited {
      background: #e91e63;
      color: white;
    }

    /* ESTILOS PARA CONFIGURACI√ìN */
    .settings-form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .settings-section {
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.1);
      border: 1px solid rgba(233, 30, 99, 0.1);
    }

    .settings-section h3 {
      color: #e91e63;
      margin-bottom: 15px;
      font-size: 1.2em;
    }

    .form-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 20px;
    }

    .save-btn {
      background: #e91e63;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .save-btn:hover {
      background: #c2185b;
      transform: translateY(-2px);
    }

    .cancel-btn-settings {
      background: transparent;
      border: 1px solid #e91e63;
      color: #e91e63;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .cancel-btn-settings:hover {
      background: #e91e63;
      color: white;
    }

    /* NOTIFICACI√ìN DE LOGIN REQUERIDO */
    .login-required {
      text-align: center;
      padding: 20px;
      background: #fff5f7;
      border-radius: 15px;
      margin-bottom: 20px;
      border: 2px solid #e91e63;
    }

    .login-required p {
      color: #e91e63;
      font-weight: 600;
      margin-bottom: 15px;
    }

    .login-required-btn {
      background: #e91e63;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .login-required-btn:hover {
      background: #c2185b;
    }

    /* NOTIFICACIONES */
    .notification {
      position: fixed;
      top: 100px;
      right: 20px;
      padding: 15px 25px;
      background: #e91e63;
      color: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
      z-index: 1001;
      display: none;
      align-items: center;
      gap: 10px;
    }

    .notification.active {
      display: flex;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* GOOGLE AUTH STYLES */
    .google-btn-custom {
      width: 100%;
      height: 50px;
      background: white;
      border: 2px solid #e91e63;
      outline: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.1em;
      color: #e91e63;
      font-weight: 600;
      transition: all 0.3s;
      margin-top: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .google-btn-custom:hover {
      background: #f5f5f5;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.2);
    }

    .google-btn-custom:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .google-icon {
      width: 20px;
      height: 20px;
    }

    .loading-spinner {
      display: none;
      width: 20px;
      height: 20px;
      border: 2px solid #f3f3f3;
      border-top: 2px solid #e91e63;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* DIV PARA EL BOT√ìN DE GOOGLE */
    #googleSignInDiv {
      width: 100%;
      margin-top: 10px;
      display: flex;
      justify-content: center;
    }

    .g_id_signin {
      width: 100% !important;
    }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      header {
        padding: 15px 20px;
      }
      
      .navigation {
        gap: 15px;
        flex-wrap: wrap;
      }
      
      .navigation a {
        font-size: 0.9em;
      }
      
      .hero-content h1 {
        font-size: 2.5em;
      }

      .beauty-gallery {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .cta-buttons {
        flex-direction: column;
        align-items: center;
      }

      .reservation-content, .profile-content, .appointments-content, .favorites-content, .settings-content {
        width: 95%;
        margin: 20px;
        padding: 20px;
      }

      .form-row {
        flex-direction: column;
      }

      .location-options {
        flex-direction: column;
      }

      .user-profile {
        flex-direction: column;
        gap: 8px;
        text-align: center;
      }

      .user-info {
        align-items: center;
      }

      .profile-dropdown {
        right: -50px;
        min-width: 180px;
      }

      .appointment-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }

      .favorite-card {
        flex-direction: column;
        text-align: center;
      }

      .form-actions {
        flex-direction: column;
      }
      
      .confirmation-buttons {
        flex-direction: column;
      }
    }

    /* EL RESTO DEL CSS SE MANTIENE IGUAL */
    /* ABOUT SECTION */
    #about {
      background: linear-gradient(135deg, #fff5f7 0%, #ffeef2 100%);
    }

    .about-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 50px;
      align-items: center;
    }

    .about-content h2 {
      font-size: 2.5em;
      color: #e91e63;
      margin-bottom: 30px;
    }

    .about-content p {
      font-size: 1.1em;
      line-height: 1.8;
      color: #666;
      margin-bottom: 20px;
    }

    .about-image {
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(233, 30, 99, 0.2);
      border: 3px solid white;
    }

    .about-image img {
      width: 100%;
      height: 500px;
      object-fit: cover;
      display: block;
    }

    /* SERVICES SECTION */
    #services {
      background: white;
    }

    .services-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .services-container h2 {
      font-size: 2.5em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 50px;
    }

    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .service-card {
      background: linear-gradient(135deg, #fff5f7 0%, #ffeef2 100%);
      padding: 40px 30px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(233, 30, 99, 0.1);
      transition: all 0.3s;
      border: 1px solid rgba(233, 30, 99, 0.1);
      cursor: pointer;
    }

    .service-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(233, 30, 99, 0.2);
    }

    .service-icon {
      font-size: 3em;
      color: #e91e63;
      margin-bottom: 20px;
    }

    .service-card h3 {
      font-size: 1.5em;
      color: #e91e63;
      margin-bottom: 15px;
    }

    .service-card p {
      color: #666;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .service-price {
      font-size: 1.3em;
      color: #e91e63;
      font-weight: 700;
    }

    .book-btn {
      padding: 12px 25px;
      background: #e91e63;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 15px;
      width: 100%;
    }

    .book-btn:hover {
      background: #c2185b;
      transform: translateY(-2px);
    }

    /* REVIEWS SECTION CON FORMULARIO */
    #reviews {
      background: linear-gradient(135deg, #fff5f7 0%, #ffeef2 100%);
    }

    .reviews-container {
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
    }

    .reviews-container h2 {
      font-size: 2.5em;
      color: #e91e63;
      margin-bottom: 50px;
    }

    .reviews-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      margin-bottom: 60px;
    }

    .review-card {
      background: white;
      padding: 30px;
      border-radius: 20px;
      text-align: left;
      box-shadow: 0 10px 30px rgba(233, 30, 99, 0.1);
      transition: all 0.3s;
      border: 1px solid rgba(233, 30, 99, 0.1);
    }

    .review-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(233, 30, 99, 0.2);
    }

    .review-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }

    .review-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #e91e63;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 1.2em;
      margin-right: 15px;
    }

    .review-info h4 {
      color: #e91e63;
      margin-bottom: 5px;
    }

    .review-stars {
      color: #ffc107;
      font-size: 1.1em;
    }

    .review-text {
      color: #666;
      line-height: 1.6;
      font-style: italic;
    }

    /* FORMULARIO PARA DEJAR REVIEW */
    .review-form-container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(233, 30, 99, 0.1);
      border: 1px solid rgba(233, 30, 99, 0.1);
    }

    .review-form-container h3 {
      color: #e91e63;
      text-align: center;
      margin-bottom: 30px;
      font-size: 1.8em;
    }

    .review-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-group label {
      color: #e91e63;
      font-weight: 500;
    }

    .form-group input,
    .form-group textarea {
      padding: 12px 15px;
      border: 2px solid rgba(233, 30, 99, 0.2);
      border-radius: 10px;
      font-size: 1em;
      transition: all 0.3s;
      background: #fff5f7;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #e91e63;
      box-shadow: 0 0 10px rgba(233, 30, 99, 0.2);
    }

    .stars-rating {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin: 10px 0;
    }

    .star {
      font-size: 2em;
      color: #ddd;
      cursor: pointer;
      transition: color 0.2s;
    }

    .star:hover,
    .star.active {
      color: #ffc107;
    }

    .submit-review {
      background: #e91e63;
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 10px;
    }

    .submit-review:hover {
      background: #c2185b;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
    }

    /* CONTACT SECTION */
    #contact {
      background: white;
    }

    .contact-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .contact-container h2 {
      font-size: 2.5em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 50px;
    }

    .contact-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 50px;
      align-items: start;
    }

    .contact-info {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 20px;
      background: #fff5f7;
      border-radius: 15px;
      transition: all 0.3s;
      border: 1px solid rgba(233, 30, 99, 0.1);
    }

    .contact-item:hover {
      transform: translateX(10px);
      box-shadow: 0 10px 25px rgba(233, 30, 99, 0.1);
    }

    .contact-icon {
      font-size: 1.8em;
      color: #e91e63;
      width: 50px;
      text-align: center;
    }

    .contact-item h3 {
      color: #e91e63;
      margin-bottom: 8px;
      font-size: 1.2em;
    }

    .contact-item p {
      color: #666;
    }

    .contact-link {
      color: #e91e63;
      text-decoration: none;
      font-weight: 600;
    }

    .contact-link:hover {
      text-decoration: underline;
    }

    /* MAPA */
    .map-container {
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(233, 30, 99, 0.1);
      height: 400px;
      border: 3px solid white;
    }

    .map-container iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    .map-notice {
      text-align: center;
      margin-top: 15px;
      padding: 15px;
      background: #fff5f7;
      border-radius: 10px;
      color: #e91e63;
      font-weight: 500;
      border: 1px solid rgba(233, 30, 99, 0.1);
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 40px;
    }

    .social-link {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      background: #e91e63;
      color: white;
      border-radius: 50%;
      text-decoration: none;
      font-size: 1.5em;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
    }

    .social-link:hover {
      transform: scale(1.1);
      background: #c2185b;
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
    }

    /* MODALES CON ESTILO ROSA PASTEL */
    .wrapper {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(233, 30, 99, 0.1);
      backdrop-filter: blur(10px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .wrapper.active-popup {
      display: flex;
    }

    .form-container {
      position: relative;
      width: 450px;
      background: linear-gradient(135deg, #fff5f7 0%, #ffeef2 100%);
      border: 2px solid rgba(233, 30, 99, 0.2);
      border-radius: 25px;
      box-shadow: 0 25px 50px rgba(233, 30, 99, 0.2);
      overflow: hidden;
    }

    .wrapper.active .form-container {
      height: 580px;
    }

    .wrapper.active-forgot .form-container {
      height: 450px;
    }

    .form-box {
      width: 100%;
      padding: 40px;
    }

    .form-box.login {
      transition: transform .18s ease;
      transform: translateX(0);
    }

    .wrapper.active .form-box.login {
      transition: none;
      transform: translateX(-450px);
    }

    .wrapper.active-forgot .form-box.login {
      transition: none;
      transform: translateX(-450px);
    }

    .form-box.register {
      position: absolute;
      top: 0;
      transition: none;
      transform: translateX(450px);
    }

    .wrapper.active .form-box.register {
      transition: transform .18s ease;
      transform: translateX(0);
    }

    .form-box.forgot-password {
      position: absolute;
      top: 0;
      transition: none;
      transform: translateX(450px);
    }

    .wrapper.active-forgot .form-box.forgot-password {
      transition: transform .18s ease;
      transform: translateX(0);
    }

    .icon-close {
      position: absolute;
      top: 0;
      right: 0;
      width: 50px;
      height: 50px;
      background: #e91e63;
      font-size: 2em;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      border-bottom-left-radius: 20px;
      cursor: pointer;
      z-index: 1;
      transition: background 0.3s;
    }

    .icon-close:hover {
      background: #c2185b;
    }

    .form-box h2 {
      font-size: 2.2em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 30px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .input-box {
      position: relative;
      width: 100%;
      height: 55px;
      border-bottom: 2px solid rgba(233, 30, 99, 0.3);
      margin: 25px 0;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 10px;
      padding: 0 15px;
    }

    .input-box label {
      position: absolute;
      top: 50%;
      left: 15px;
      transform: translateY(-50%);
      font-size: 1em;
      color: #e91e63;
      font-weight: 500;
      pointer-events: none;
      transition: .5s;
      background: transparent;
      padding: 0 5px;
    }

    .input-box input:focus~label,
    .input-box input:valid~label {
      top: -5px;
      color: #c2185b;
      font-size: 0.9em;
    }

    .input-box input {
      width: 100%;
      height: 100%;
      background: transparent;
      border: none;
      outline: none;
      font-size: 1em;
      color: #e91e63;
      font-weight: 600;
      padding: 0 35px 0 5px;
    }

    .input-box .icon {
      position: absolute;
      right: 15px;
      font-size: 1.3em;
      color: #e91e63;
      line-height: 57px;
    }

    .remember-forgot {
      font-size: .9em;
      color: #e91e63;
      font-weight: 500;
      margin: -10px 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .remember-forgot label {
      display: flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
    }

    .remember-forgot label input {
      accent-color: #e91e63;
    }

    .remember-forgot a {
      color: #e91e63;
      text-decoration: none;
      transition: color 0.3s;
    }

    .remember-forgot a:hover {
      color: #c2185b;
      text-decoration: underline;
    }

    .btn {
      width: 100%;
      height: 50px;
      background: #e91e63;
      border: none;
      outline: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.1em;
      color: #fff;
      font-weight: 600;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
      margin-top: 10px;
    }

    .btn:hover {
      background: #c2185b;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
    }

    .login-register {
      font-size: .9em;
      color: #e91e63;
      text-align: center;
      font-weight: 500;
      margin: 25px 0 10px;
    }

    .login-register p a {
      color: #e91e63;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s;
    }

    .login-register p a:hover {
      color: #c2185b;
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <header>
    <h2 class="logo">Gaby's Style</h2>
    <nav class="navigation">
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#services">Services</a>
      <a href="#reviews">Reviews</a>
      <a href="#contact">Contact</a>
      
      <!-- PERFIL DE USUARIO (oculto inicialmente) -->
      <div class="user-profile" id="userProfile">
        <div class="user-avatar" id="userAvatar" onclick="toggleProfileDropdown()">U</div>
        <div class="user-info">
          <span class="user-name" id="userName">Usuario</span>
          <span class="user-email" id="userEmail">usuario@ejemplo.com</span>
        </div>
        
        <!-- MEN√ö DESPLEGABLE -->
        <div class="profile-dropdown" id="profileDropdown">
          <div class="dropdown-item" onclick="openProfileModal()">
            <i>üë§</i>
            <span>Mi Perfil</span>
          </div>
          <div class="dropdown-item" onclick="openAppointmentsModal()">
            <i>üìÖ</i>
            <span>Mis Citas</span>
          </div>
          <div class="dropdown-item" onclick="openFavoritesModal()">
            <i>‚ù§Ô∏è</i>
            <span>Favoritos</span>
          </div>
          <div class="dropdown-divider"></div>
          <div class="dropdown-item" onclick="openSettingsModal()">
            <i>‚öôÔ∏è</i>
            <span>Configuraci√≥n</span>
          </div>
          <div class="dropdown-item logout" onclick="logout()">
            <i>üö™</i>
            <span>Cerrar Sesi√≥n</span>
          </div>
        </div>
      </div>
      
      <!-- BOT√ìN DE LOGIN (visible inicialmente) -->
      <button class="btnLogin-popup" id="loginBtn">Login</button>
    </nav>
  </header>

  <!-- NOTIFICACI√ìN -->
  <div class="notification" id="notification">
    <span id="notificationText">Mensaje de notificaci√≥n</span>
  </div>

  <!-- SECCIONES PRINCIPALES -->
  <section id="home">
    <!-- Elementos decorativos flotantes -->
    <div class="floating-element"></div>
    <div class="floating-element"></div>
    <div class="floating-element"></div>
    
    <div class="hero-content">
      <h1>ùí¢ùí∂ùí∑ùìé'ùìà ùíÆùìâùìéùìÅùëí</h1>
      <p>Specialists in enhancing your natural beauty with professional eyebrow, eyelash, and lip services. Discover your best version with us..</p>
      
      <!-- GALER√çA DE FOTOS CON TUS IM√ÅGENES DE PINTEREST -->
      <div class="beauty-gallery">
        <div class="gallery-item">
          <img src="pesta√±a.jpeg" alt="Extensiones de pesta√±as volumen rusas">
          <div class="gallery-label">Perfect eyelashes</div>
        </div>
        <div class="gallery-item">
          <img src="ceja.jpeg" alt="Cejas perfectamente dise√±adas">
          <div class="gallery-label">Perfect Eyebrows</div>
        </div>
        <div class="gallery-item">
          <img src="labios jugososüòç.jpeg" alt="Pesta√±as cl√°sicas naturales">
          <div class="gallery-label">Defined Lips</div>
        </div>
      </div>

      <div class="cta-buttons">
        <button class="cta-btn" onclick="scrollToSection('services')">View Services</button>
        <button class="cta-btn" onclick="openReservationModal()">Book Appointment</button>
        <button class="cta-btn" onclick="scrollToSection('contact')">Contact</button>
      </div>
    </div>
    <div class="scroll-down" onclick="scrollToSection('about')">‚¨áÔ∏è</div>
  </section>

  <!-- EL RESTO DEL C√ìDIGO SE MANTIENE IGUAL -->
  <section id="about">
    <div class="about-container">
      <div class="about-content">
        <h2>About Us</h2>
        <p>In <strong>Gaby's Style</strong> we are dedicated to enhancing your natural beauty with professional techniques and the highest quality products. With years of experience in the aesthetics world, we specialize in creating personalized looks that adapt to your unique features.</p>
        <p>Our mission is to provide you with a unique experience where you feel comfortable, heard, and beautifully transformed. We believe that everyone deserves to feel secure and radiant.</p>
        <p>We offer services both in our studio and at home in Orlando, FL.</p>
      </div>
      <div class="about-image">
        <img src="Cat-Eye-Volume-MinuteLash_7ab1e65f-fcf7-4dd2-8128-c7203be3a3a2.837d15bdd47a3e7f19a8a5eaf2acc407.jpeg" alt="Ojos hermosos con maquillaje profesional">
      </div>
    </div>
  </section>

  <section id="services">
    <div class="services-container">
      <h2>Our services</h2>
      <div class="services-grid">
        <div class="service-card">
          <div class="service-icon">‚úèÔ∏è</div>
          <h3>Microblading y Powder brows</h3>
          <p>Professional eyebrow shaping and design that naturally enhances your look</p>
          <div class="service-price">$200</div>
          <button class="favorite-btn" onclick="toggleFavorite('microblading', this)">‚ù§Ô∏è Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('microblading')">book now</button>
        </div>
        
        <div class="service-card">
          <div class="service-icon">üëÅÔ∏è</div>
          <h3>Eyelash extensions</h3>
          <p>Natural and elegant lashes that add length and definition</p>
          <div class="service-price">$70</div>
          <button class="favorite-btn" onclick="toggleFavorite('pesta√±as', this)">‚ù§Ô∏è Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('pesta√±as')">book now</button>
        </div>
        
        <div class="service-card">
          <div class="service-icon">üé®</div>
          <h3>Lip micropigmentation</h3>
          <p>Semi-permanent color that keeps your lips perfect all day</p>
          <div class="service-price">$250</div>
          <button class="favorite-btn" onclick="toggleFavorite('labios', this)">‚ù§Ô∏è Agregar a Favoritos</button>
          <button class="book-btn" onclick="openServiceReservation('labios')">book now</button>
        </div>
        
        <div class="service-card">
          <div class="service-icon">üí´</div>
          <h3>Full Combo</h3>
          <p>Complete experience: eyebrows, eyelashes, and lips with a special discount</p>
          <div class="service-price">$400</div>
          <button class="favorite-btn" onclick="toggleFavorite('combo', this)">‚ù§Ô∏è Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('combo')">book now</button>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCI√ìN REVIEWS CON FORMULARIO -->
  <section id="reviews">
    <div class="reviews-container">
      <h2>Customer Reviews</h2>
      <div class="reviews-grid">
        <div class="review-card">
          <div class="review-header">
            <div class="review-avatar">M</div>
            <div class="review-info">
              <h4>Mar√≠a Gonz√°lez</h4>
              <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            </div>
          </div>
          <p class="review-text">"Amazing service! Gaby is very professional and detail-oriented. My eyelashes turned out perfect and natural. I will definitely return."</p>
        </div>
        
        <div class="review-card">
          <div class="review-header">
            <div class="review-avatar">C</div>
            <div class="review-info">
              <h4>Carolina Ruiz</h4>
              <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            </div>
          </div>
          <p class="review-text">"The best eyebrow service I've ever received. Gaby really understands the natural shape of the face. I loved it!"</p>
        </div>
        
        <div class="review-card">
          <div class="review-header">
            <div class="review-avatar">A</div>
            <div class="review-info">
              <h4>Ana Mart√≠nez</h4>
              <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            </div>
          </div>
          <p class="review-text">"Excellent home service. Very punctual and professional. My lips turned out perfect with the tinting. 100% recommended."</p>
        </div>
      </div>

      <!-- FORMULARIO PARA DEJAR REVIEW -->
      <div class="review-form-container">
        <h3>Leave your review</h3>
        <form class="review-form" id="reviewForm">
          <div class="form-group">
            <label for="reviewName">Your Name</label>
            <input type="text" id="reviewName" required placeholder="Enter your name">
          </div>
          
          <div class="form-group">
            <label>Calification</label>
            <div class="stars-rating" id="starsRating">
              <span class="star" data-rating="1">‚òÖ</span>
              <span class="star" data-rating="2">‚òÖ</span>
              <span class="star" data-rating="3">‚òÖ</span>
              <span class="star" data-rating="4">‚òÖ</span>
              <span class="star" data-rating="5">‚òÖ</span>
            </div>
          </div>
          
          <div class="form-group">
            <label for="reviewText">Your review</label>
            <textarea id="reviewText" required placeholder="share your experience..." rows="4"></textarea>
          </div>
          
          <button type="submit" class="submit-review">submit</button>
        </form>
      </div>
    </div>
  </section>

  <section id="contact">
    <div class="contact-container">
      <h2>contact us</h2>
      <div class="contact-content">
        <div class="contact-info">
          <div class="contact-item">
            <div class="contact-icon">üìç</div>
            <div>
              <h3>Ubication</h3>
              <p>Orlando, FL</p>
              <p>Service in studio and at home</p>
            </div>
          </div>
          
          <div class="contact-item">
            <div class="contact-icon">üìû</div>
            <div>
              <h3>Phone / WhatsApp</h3>
              <p><a href="tel:+13216626266" class="contact-link">+1 (321) 662-6266</a></p>
            </div>
          </div>
          
          <div class="contact-item">
            <div class="contact-icon">üìß</div>
            <div>
              <h3>Email</h3>
              <p><a href="mailto:gabysstylellc24@gmail.com" class="contact-link">gabysstylellc24@gmail.com</a></p>
            </div>
          </div>
          
          <div class="contact-item">
            <div class="contact-icon">üì±</div>
            <div>
              <h3>Instagram</h3>
              <p><a href="https://www.instagram.com/style_gaby_lashes/" class="contact-link" target="_blank">@style_gaby_lashes</a></p>
            </div>
          </div>

          <div class="contact-item">
            <div class="contact-icon">‚è∞</div>
            <div>
              <h3>Schedule</h3>
              <p>Monday - Friday: 9:00 AM - 7:00 PM</p>
              <p>Saturday: 10:00 AM - 5:00 PM</p>
              <p>Sunday: Closed</p>
            </div>
          </div>
        </div>

        <div class="map-section">
          <div class="map-container">
            <iframe 
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d224469.3940310263!2d-81.52079495!3d28.481177!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88e773d8fecdbc77%3A0xac591d3d6bfc4d2f!2sOrlando%2C%20Florida%2C%20EE.%20UU.!5e0!3m2!1ses!2s!4v1690000000000!5m2!1ses!2s" 
              allowfullscreen="" 
              loading="lazy" 
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
          <div class="map-notice">
            üöó In-home and clinic services in Orlando, FL
          </div>
        </div>
      </div>
      
      <div class="social-links">
        <a href="https://www.instagram.com/style_gaby_cora/" class="social-link" target="_blank">
          üì∏
        </a>
        <a href="https://www.facebook.com/share/168Jesx9sW/?mibextid=wwXIfr" class="social-link" target="_blank">
          üëç
        </a>
        <a href="https://wa.me/13216626266" class="social-link" target="_blank">
          üí¨
        </a>
        <a href="mailto:gabysstylellc24@gmail.com" class="social-link">
          ‚úâÔ∏è
        </a>
      </div>
    </div>
  </section>

  <!-- MODALES -->
  <div class="wrapper">
    <div class="form-container">
      <span class="icon-close" onclick="closeLoginModal()">‚úñ</span>

      <div class="form-box login">
        <h2>Login</h2>
        <form id="loginForm">
          <div class="input-box">
            <span class="icon">üìß</span>
            <input type="email" id="loginEmail" required>
            <label>Email</label>
          </div>
          <div class="input-box">
            <span class="icon">üîí</span>
            <input type="password" id="loginPassword" required>
            <label>Password</label>
          </div>
          <div class="remember-forgot">
            <label><input type="checkbox" id="rememberMe"> Remember me</label>
            <a href="#" onclick="showForgotPassword()">Forgot Password?</a>
          </div>
          <button type="submit" class="btn">Login</button>
          
          <!-- DIV PARA EL BOT√ìN DE GOOGLE -->
          <div id="googleSignInDiv"></div>
          
          <div class="login-register">
            <p>Don't have an account? <a href="#" class="register-link" onclick="showRegister()">Register</a></p>
          </div>
        </form>
      </div>

      <div class="form-box register">
        <h2>Registration</h2>
        <form id="registerForm">
          <div class="input-box">
            <span class="icon">üë§</span>
            <input type="text" id="registerName" required>
            <label>Full Name</label>
          </div>
          <div class="input-box">
            <span class="icon">üìß</span>
            <input type="email" id="registerEmail" required>
            <label>Email</label>
          </div>
          <div class="input-box">
            <span class="icon">üîí</span>
            <input type="password" id="registerPassword" required>
            <label>Password</label>
          </div>
          <div class="input-box">
            <span class="icon">üîí</span>
            <input type="password" id="confirmPassword" required>
            <label>Confirm Password</label>
          </div>
          <button type="submit" class="btn">Register</button>
          
          <!-- DIV PARA EL BOT√ìN DE GOOGLE EN REGISTRO -->
          <div id="googleSignInDivRegister"></div>
          
          <div class="login-register">
            <p>Already have an account? <a href="#" class="login-link" onclick="showLogin()">Login</a></p>
          </div>
        </form>
      </div>

      <div class="form-box forgot-password">
        <h2>Reset Password</h2>
        <form id="forgotPasswordForm">
          <div class="input-box">
            <span class="icon">üìß</span>
            <input type="email" id="forgotEmail" required>
            <label>Email</label>
          </div>
          <button type="submit" class="btn">Send Reset Link</button>
          <div class="login-register">
            <p>Remember your password? <a href="#" class="login-link" onclick="showLogin()">Back to Login</a></p>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- MODAL DE RESERVAS M√ÅS COMPACTO -->
  <div class="reservation-modal">
    <div class="reservation-content">
      <span class="close-reservation" onclick="closeReservationModal()">‚úñ</span>
      <h2>Book now</h2>
      
      <!-- NOTIFICACI√ìN DE LOGIN REQUERIDO -->
      <div class="login-required" id="loginRequiredMessage">
        <p>‚ö†Ô∏è You must log in or sign up to book an appointment</p>
        <button class="login-required-btn" onclick="closeReservationModal(); openLoginModal();">Log In / Sign Up</button>
      </div>
      
      <form class="reservation-form" id="reservationForm">
        <div class="form-row">
          <div class="input-box">
            <input type="text" id="clientName" required>
            <label>Full Name</label>
          </div>
          <div class="input-box">
            <input type="tel" id="clientPhone" required>
            <label>Phone</label>
          </div>
        </div>
        <div class="input-box">
          <span class="icon">üìß</span>
          <input type="email" id="clientEmail" required>
          <label>Email</label>
        </div>
        
        <div class="form-group">
          <label>Location Preference</label>
          <div class="location-options">
            <div class="location-option" data-location="In Study" onclick="selectLocation(this)">
              In Study
            </div>
            <div class="location-option" data-location="Home Delivery" onclick="selectLocation(this)">
              Home Delivery
            </div>
          </div>
        </div>
        
        <div class="form-row">
          <div class="input-box">
            <input type="date" id="appointmentDate" required>
            <label>Date</label>
          </div>
          <div class="input-box">
            <input type="time" id="appointmentTime" required>
            <label>Time</label>
          </div>
        </div>
        <div class="input-box">
          <select required id="serviceSelect">
            <option value="">Select a Service</option>
            <option value="microblading">Microblading y Powder brows - $200</option>
            <option value="pesta√±as">Eyelash Extensions - $70</option>
            <option value="labios">Lip Micropigmentation - $250</option>
            <option value="combo">Full combo - $400</option>
          </select>
        </div>
        <div class="form-group">
          <label for="notes">Special Notes</label>
          <textarea id="notes" placeholder="Allergies, preferences, or special notes..." rows="3"></textarea>
        </div>
        <button type="submit" class="btn">Book Now</button>
      </form>
    </div>
  </div>

  <!-- MODAL DE PERFIL -->
  <div class="profile-modal">
    <div class="profile-content">
      <span class="close-profile" onclick="closeProfileModal()">‚úñ</span>
      <h2>My Profile</h2>
      <div class="profile-info">
        <div class="settings-section">
          <h3>Personal Information</h3>
          <div class="input-box">
            <input type="text" id="profileName" required>
            <label>Full Name</label>
          </div>
          <div class="input-box">
            <input type="email" id="profileEmail" required>
            <label>Email</label>
          </div>
          <div class="input-box">
            <input type="tel" id="profilePhone" required>
            <label>Phone</label>
          </div>
        </div>
        <div class="form-actions">
          <button class="cancel-btn-settings" onclick="closeProfileModal()">Cancel</button>
          <button class="save-btn" onclick="saveProfile()">Save Changes</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL DE CITAS - CON FUNCIONALIDAD DE CANCELACI√ìN -->
  <div class="appointments-modal">
    <div class="appointments-content">
      <span class="close-appointments" onclick="closeAppointmentsModal()">‚úñ</span>
      <h2>My Appointments</h2>
      <div class="appointments-list" id="appointmentsList">
        <!-- Las citas se cargar√°n din√°micamente aqu√≠ -->
      </div>
    </div>
  </div>

  <!-- MODAL DE FAVORITOS -->
  <div class="favorites-modal">
    <div class="favorites-content">
      <span class="close-favorites" onclick="closeFavoritesModal()">‚úñ</span>
      <h2>My Favorites</h2>
      <div class="favorites-grid" id="favoritesList">
        <!-- Los favoritos se cargar√°n din√°micamente aqu√≠ -->
      </div>
    </div>
  </div>

  <!-- MODAL DE CONFIGURACI√ìN -->
  <div class="settings-modal">
    <div class="settings-content">
      <span class="close-settings" onclick="closeSettingsModal()">‚úñ</span>
      <h2>Settings</h2>
      <form class="settings-form">
        <div class="settings-section">
          <h3>Notification Preferences</h3>
          <div class="form-group">
            <label><input type="checkbox" checked> Email notifications</label>
          </div>
          <div class="form-group">
            <label><input type="checkbox" checked> Appointment reminders</label>
          </div>
          <div class="form-group">
            <label><input type="checkbox"> Special offers</label>
          </div>
        </div>
        
        <div class="settings-section">
          <h3>Privacy</h3>
          <div class="form-group">
            <label><input type="checkbox" checked> Public profile</label>
          </div>
          <div class="form-group">
            <label><input type="checkbox"> Show my reviews</label>
          </div>
        </div>
        
        <div class="form-actions">
          <button class="cancel-btn-settings" onclick="closeSettingsModal()">Cancel</button>
          <button class="save-btn" onclick="saveSettings()">Save Settings</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // SISTEMA DE AUTENTICACI√ìN REAL
    let userLoggedIn = false;
    let currentUser = null;
    let userAppointments = [];
    let userFavorites = [];

    // BASE DE DATOS DE USUARIOS (en localStorage)
    function getUsers() {
      return JSON.parse(localStorage.getItem('gabysStyleUsers')) || [];
    }

    function saveUsers(users) {
      localStorage.setItem('gabysStyleUsers', JSON.stringify(users));
    }

    function getUserData(email) {
      return JSON.parse(localStorage.getItem(`user_${email}`)) || { appointments: [], favorites: [] };
    }

    function saveUserData(email, data) {
      localStorage.setItem(`user_${email}`, JSON.stringify(data));
    }

    // FUNCIONES DE AUTENTICACI√ìN
    function login() {
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      const rememberMe = document.getElementById('rememberMe').checked;
      
      if (!email || !password) {
        showNotification('Por favor, completa todos los campos', 'error');
        return;
      }

      const users = getUsers();
      const user = users.find(u => u.email === email && u.password === password);
      
      if (user) {
        userLoggedIn = true;
        currentUser = {
          name: user.name,
          email: user.email,
          phone: user.phone || '',
          avatar: user.name.charAt(0).toUpperCase()
        };
        
        // Guardar sesi√≥n si Remember Me est√° activado
        if (rememberMe) {
          localStorage.setItem('rememberedUser', JSON.stringify({
            email: user.email,
            rememberMe: true
          }));
        } else {
          localStorage.removeItem('rememberedUser');
        }
        
        // Cargar datos del usuario
        const userData = getUserData(user.email);
        userAppointments = userData.appointments || [];
        userFavorites = userData.favorites || [];
        
        updateUserInterface();
        closeLoginModal();
        showNotification(`Welcome back, ${user.name}!`);
      } else {
        showNotification('Correo electr√≥nico o contrase√±a incorrectos', 'error');
      }
    }

    function register() {
      const name = document.getElementById('registerName').value;
      const email = document.getElementById('registerEmail').value;
      const password = document.getElementById('registerPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      
      if (!name || !email || !password || !confirmPassword) {
        showNotification('Please fill in all the fields', 'error');
        return;
      }

      if (password !== confirmPassword) {
        showNotification('Passwords do not match', 'error');
        return;
      }

      if (password.length < 6) {
        showNotification('The password must be at least 6 characters long', 'error');
        return;
      }

      const users = getUsers();
      
      if (users.find(u => u.email === email)) {
        showNotification('This email is already registered', 'error');
        return;
      }

      // Registrar nuevo usuario
      const newUser = {
        name: name,
        email: email,
        password: password,
        phone: '',
        createdAt: new Date().toISOString()
      };
      
      users.push(newUser);
      saveUsers(users);
      
      // Iniciar sesi√≥n autom√°ticamente
      userLoggedIn = true;
      currentUser = {
        name: name,
        email: email,
        phone: '',
        avatar: name.charAt(0).toUpperCase()
      };
      
      // Inicializar datos del usuario
      userAppointments = [];
      userFavorites = [];
      saveUserData(email, { appointments: [], favorites: [] });
      
      updateUserInterface();
      closeLoginModal();
      showNotification(`You have successfully registered, ${name}!`);
    }

    // GOOGLE AUTH FUNCTIONS - USANDO LA API REAL DE GOOGLE
    function initializeGoogleSignIn() {
      // Inicializar el bot√≥n de Google para login
      google.accounts.id.initialize({
        client_id: "460424594977-cuo5kttqufdspj1vamu2dmo9tr9lpd5g.apps.googleusercontent.com",
        callback: handleGoogleResponse
      });
      
      // Renderizar el bot√≥n de Google
      google.accounts.id.renderButton(
        document.getElementById("googleSignInDiv"),
        { 
          theme: "outline", 
          size: "large",
          width: "100%",
          text: "signin_with",
          locale: "es"
        }
      );
      
      // Inicializar el bot√≥n de Google para registro
      google.accounts.id.renderButton(
        document.getElementById("googleSignInDivRegister"),
        { 
          theme: "outline", 
          size: "large",
          width: "100%",
          text: "signup_with",
          locale: "es"
        }
      );
    }

    function handleGoogleResponse(response) {
      // Decodificar el token JWT
      const responsePayload = decodeJWTResponse(response.credential);
      
      // Crear objeto de usuario de Google
      const googleUser = {
        name: responsePayload.name,
        email: responsePayload.email,
        avatar: responsePayload.name.charAt(0).toUpperCase(),
        picture: responsePayload.picture
      };
      
      // Procesar el login con Google
      googleLogin(googleUser);
    }

    function decodeJWTResponse(token) {
      const base64Url = token.split('.')[1];
      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
      const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
      }).join(''));
      
      return JSON.parse(jsonPayload);
    }

    function googleLogin(googleUser) {
      const users = getUsers();
      let user = users.find(u => u.email === googleUser.email);
      
      if (!user) {
        // Crear nuevo usuario si no existe
        user = {
          name: googleUser.name,
          email: googleUser.email,
          password: 'google_auth', // Contrase√±a especial para usuarios de Google
          phone: '',
          createdAt: new Date().toISOString(),
          isGoogleUser: true,
          picture: googleUser.picture
        };
        users.push(user);
        saveUsers(users);
        
        // Inicializar datos del usuario
        saveUserData(googleUser.email, { appointments: [], favorites: [] });
      }
      
      // Iniciar sesi√≥n
      userLoggedIn = true;
      currentUser = {
        name: user.name,
        email: user.email,
        phone: user.phone || '',
        avatar: googleUser.avatar,
        picture: user.picture
      };
      
      // Cargar datos del usuario
      const userData = getUserData(user.email);
      userAppointments = userData.appointments || [];
      userFavorites = userData.favorites || [];
      
      updateUserInterface();
      closeLoginModal();
      showNotification(`¬°Bienvenida, ${user.name}!`);
    }

    function resetPassword() {
      const email = document.getElementById('forgotEmail').value;
      
      if (!email) {
        showNotification('Por favor, ingresa tu email', 'error');
        return;
      }

      const users = getUsers();
      const user = users.find(u => u.email === email);
      
      if (user) {
        showNotification(`Se ha enviado un enlace de recuperaci√≥n a ${email}`);
        showLogin();
      } else {
        showNotification('No existe una cuenta con este email', 'error');
      }
    }

    function logout() {
      // Guardar datos antes de cerrar sesi√≥n
      if (currentUser) {
        saveUserData(currentUser.email, {
          appointments: userAppointments,
          favorites: userFavorites
        });
      }
      
      userLoggedIn = false;
      currentUser = null;
      userAppointments = [];
      userFavorites = [];
      updateUserInterface();
      closeProfileDropdown();
      showNotification('Session closed successfully');
    }

    // FUNCIONES PRINCIPALES (se mantienen igual)
    function scrollToSection(sectionId) {
      document.getElementById(sectionId).scrollIntoView({ 
        behavior: 'smooth' 
      });
    }

    function openLoginModal() {
      document.querySelector('.wrapper').classList.add('active-popup');
      showLogin();
    }

    function closeLoginModal() {
      document.querySelector('.wrapper').classList.remove('active-popup', 'active', 'active-forgot');
    }

    function showLogin() {
      document.querySelector('.wrapper').classList.remove('active', 'active-forgot');
    }

    function showRegister() {
      document.querySelector('.wrapper').classList.add('active');
      document.querySelector('.wrapper').classList.remove('active-forgot');
    }

    function showForgotPassword() {
      document.querySelector('.wrapper').classList.add('active-forgot');
      document.querySelector('.wrapper').classList.remove('active');
    }

    function openReservationModal() {
      if (!userLoggedIn) {
        document.getElementById('loginRequiredMessage').style.display = 'block';
        document.getElementById('reservationForm').style.display = 'none';
      } else {
        document.getElementById('loginRequiredMessage').style.display = 'none';
        document.getElementById('reservationForm').style.display = 'block';
        
        // AUTORELLENAR con datos del usuario
        document.getElementById('clientName').value = currentUser.name;
        document.getElementById('clientEmail').value = currentUser.email;
        document.getElementById('clientPhone').value = currentUser.phone || '';
      }
      document.querySelector('.reservation-modal').classList.add('active');
    }

    function openServiceReservation(serviceType) {
      openReservationModal();
      setTimeout(() => {
        const select = document.getElementById('serviceSelect');
        select.value = serviceType;
      }, 100);
    }

    function closeReservationModal() {
      document.querySelector('.reservation-modal').classList.remove('active');
      document.getElementById('reservationForm').reset();
      document.querySelectorAll('.location-option').forEach(opt => {
        opt.classList.remove('selected');
      });
    }

    function selectLocation(element) {
      document.querySelectorAll('.location-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      element.classList.add('selected');
    }

    // FUNCIONES DEL MEN√ö DESPLEGABLE
    function toggleProfileDropdown() {
      const dropdown = document.getElementById('profileDropdown');
      dropdown.classList.toggle('active');
    }

    function closeProfileDropdown() {
      const dropdown = document.getElementById('profileDropdown');
      dropdown.classList.remove('active');
    }

    function openProfileModal() {
      if (!userLoggedIn) {
        showNotification('You must log in to view your profile', 'error');
        return;
      }
      document.getElementById('profileName').value = currentUser.name;
      document.getElementById('profileEmail').value = currentUser.email;
      document.getElementById('profilePhone').value = currentUser.phone || '';
      document.querySelector('.profile-modal').classList.add('active');
      closeProfileDropdown();
    }

    function closeProfileModal() {
      document.querySelector('.profile-modal').classList.remove('active');
    }

    function openAppointmentsModal() {
      if (!userLoggedIn) {
        showNotification('You must log in to see your appointments', 'error');
        return;
      }
      document.querySelector('.appointments-modal').classList.add('active');
      loadAppointments();
      closeProfileDropdown();
    }

    function closeAppointmentsModal() {
      document.querySelector('.appointments-modal').classList.remove('active');
    }

    function openFavoritesModal() {
      if (!userLoggedIn) {
        showNotification('Debes iniciar sesi√≥n para ver tus favoritos', 'error');
        return;
      }
      document.querySelector('.favorites-modal').classList.add('active');
      loadFavorites();
      closeProfileDropdown();
    }

    function closeFavoritesModal() {
      document.querySelector('.favorites-modal').classList.remove('active');
    }

    function openSettingsModal() {
      if (!userLoggedIn) {
        showNotification('You must log in to access the settings', 'error');
        return;
      }
      document.querySelector('.settings-modal').classList.add('active');
      closeProfileDropdown();
    }

    function closeSettingsModal() {
      document.querySelector('.settings-modal').classList.remove('active');
    }

    // FUNCIONES DE FAVORITOS
    function toggleFavorite(serviceId, button) {
      if (!userLoggedIn) {
        showNotification('You must log in to add favorites', 'error');
        openLoginModal();
        return;
      }

      const serviceData = {
        'microblading': { name: 'Microblading y Powder brows', price: '$200', icon: '‚úèÔ∏è' },
        'pesta√±as': { name: 'Extensiones de Pesta√±as', price: '$70', icon: 'üëÅÔ∏è' },
        'labios': { name: 'Micropigmentaci√≥n de Labios', price: '$250', icon: 'üé®' },
        'combo': { name: 'Combo Completo', price: '$400', icon: 'üí´' }
      };

      const service = serviceData[serviceId];
      const existingIndex = userFavorites.findIndex(fav => fav.id === serviceId);

      if (existingIndex > -1) {
        userFavorites.splice(existingIndex, 1);
        button.classList.remove('favorited');
        button.textContent = '‚ù§Ô∏è Add to Favorites';
        showNotification('Service removed from favorites');
      } else {
        userFavorites.push({
          id: serviceId,
          name: service.name,
          price: service.price,
          icon: service.icon
        });
        button.classList.add('favorited');
        button.textContent = '‚úÖ In Favorites';
        showNotification('Service added to favorites');
      }
      
      // Guardar cambios
      saveUserData(currentUser.email, {
        appointments: userAppointments,
        favorites: userFavorites
      });
    }

    function loadFavorites() {
      const favoritesList = document.getElementById('favoritesList');
      
      if (userFavorites.length === 0) {
        favoritesList.innerHTML = `
          <div class="no-favorites">
            <i>‚ù§Ô∏è</i>
            <h3>You have no favorites</h3>
            <p>Explore our services and add your favorites!</p>
          </div>
        `;
        return;
      }

      favoritesList.innerHTML = userFavorites.map(favorite => `
        <div class="favorite-card">
          <div class="favorite-icon">${favorite.icon}</div>
          <div class="favorite-info">
            <div class="favorite-name">${favorite.name}</div>
            <div class="favorite-price">${favorite.price}</div>
          </div>
          <button class="remove-favorite" onclick="removeFavorite('${favorite.id}')">Eliminar</button>
        </div>
      `).join('');
    }

    function removeFavorite(favoriteId) {
      userFavorites = userFavorites.filter(fav => fav.id !== favoriteId);
      loadFavorites();
      showNotification('Servicio eliminado de favoritos');
      saveUserData(currentUser.email, {
        appointments: userAppointments,
        favorites: userFavorites
      });
    }

    // FUNCIONES DE GESTI√ìN DE CITAS
    function loadAppointments() {
      const appointmentsList = document.getElementById('appointmentsList');
      
      if (userAppointments.length === 0) {
        appointmentsList.innerHTML = `
          <div class="no-appointments">
            <i>üìÖ</i>
            <h3>No tienes citas programadas</h3>
            <p>¬°Reserva tu primera cita ahora!</p>
            <button class="cta-btn" onclick="closeAppointmentsModal(); openReservationModal();" style="margin-top: 15px;">Reservar Cita</button>
          </div>
        `;
        return;
      }

      appointmentsList.innerHTML = userAppointments.map(appointment => `
        <div class="appointment-card ${appointment.status === 'cancelled' ? 'appointment-cancelled' : ''}">
          <div class="appointment-header">
            <div class="appointment-service">
              ${appointment.service}
              ${appointment.status === 'cancelled' ? '<span class="cancelled-badge">Cancelada</span>' : ''}
            </div>
            <div class="appointment-status ${appointment.status === 'confirmed' ? 'status-confirmed' : appointment.status === 'pending' ? 'status-pending' : 'status-cancelled'}">
              ${appointment.status === 'confirmed' ? 'Confirmada' : appointment.status === 'pending' ? 'Pendiente' : 'Cancelada'}
            </div>
          </div>
          <div class="appointment-details">
            <div class="appointment-date">
              <i>üìÖ</i>
              <span>${formatDate(appointment.date)}</span>
            </div>
            <div class="appointment-time">
              <i>‚è∞</i>
              <span>${appointment.time}</span>
            </div>
            <div class="appointment-location">
              <i>üìç</i>
              <span>${appointment.location}</span>
            </div>
          </div>
          ${appointment.status !== 'cancelled' ? `
            <div class="appointment-actions">
              <button class="cancel-btn" onclick="showCancelConfirmation(${appointment.id})">Cancel</button>
            </div>
            <div class="cancel-confirmation" id="cancelConfirmation${appointment.id}">
              <p>Are you sure you want to cancel this appointment?</p>
              <div class="confirmation-buttons">
                <button class="confirm-cancel" onclick="cancelAppointment(${appointment.id})">Yes, Cancel</button>
                <button class="cancel-cancel" onclick="hideCancelConfirmation(${appointment.id})">No, Keep</button>
              </div>
            </div>
          ` : ''}
        </div>
      `).join('');
    }

    function showCancelConfirmation(appointmentId) {
      document.getElementById(`cancelConfirmation${appointmentId}`).style.display = 'block';
    }

    function hideCancelConfirmation(appointmentId) {
      document.getElementById(`cancelConfirmation${appointmentId}`).style.display = 'none';
    }

    function cancelAppointment(appointmentId) {
      const appointmentIndex = userAppointments.findIndex(apt => apt.id === appointmentId);
      
      if (appointmentIndex !== -1) {
        userAppointments[appointmentIndex].status = 'cancelled';
        loadAppointments();
        showNotification('Appointment successfully canceled');
        saveUserData(currentUser.email, {
          appointments: userAppointments,
          favorites: userFavorites
        });
      }
    }

    function saveProfile() {
      const name = document.getElementById('profileName').value;
      const email = document.getElementById('profileEmail').value;
      const phone = document.getElementById('profilePhone').value;
      
      // Actualizar en la base de datos
      const users = getUsers();
      const userIndex = users.findIndex(u => u.email === currentUser.email);
      
      if (userIndex !== -1) {
        users[userIndex].name = name;
        users[userIndex].email = email;
        users[userIndex].phone = phone;
        saveUsers(users);
      }
      
      // Actualizar datos actuales
      currentUser.name = name;
      currentUser.email = email;
      currentUser.phone = phone;
      currentUser.avatar = name.charAt(0).toUpperCase();
      
      updateUserInterface();
      closeProfileModal();
      showNotification('Profile updated successfully');
    }

    function saveSettings() {
      closeSettingsModal();
      showNotification('Settings saved successfully');
    }

    function formatDate(dateString) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      return new Date(dateString).toLocaleDateString('es-ES', options);
    }

    function updateUserInterface() {
      const userProfile = document.getElementById('userProfile');
      const loginBtn = document.getElementById('loginBtn');
      const userAvatar = document.getElementById('userAvatar');
      const userName = document.getElementById('userName');
      const userEmail = document.getElementById('userEmail');
      
      if (userLoggedIn && currentUser) {
        userProfile.style.display = 'flex';
        loginBtn.style.display = 'none';
        userAvatar.textContent = currentUser.avatar;
        userName.textContent = currentUser.name;
        userEmail.textContent = currentUser.email;
      } else {
        userProfile.style.display = 'none';
        loginBtn.style.display = 'block';
      }
    }

    // SISTEMA DE NOTIFICACIONES CON EMAILJS - SOLO EMAIL
    function sendAppointmentNotifications(appointment) {
      console.log('üîî Sending notification by email...', appointment);
      
      // Solo enviar email autom√°tico (con EmailJS)
      sendAutoEmail(appointment);
    }

    // EMAIL AUTOM√ÅTICO - Con EmailJS (CON TUS CREDENCIALES COMPLETAS)
    function sendAutoEmail(appointment) {
      const templateParams = {
        client_name: appointment.clientName,
        client_email: appointment.clientEmail,
        client_phone: appointment.clientPhone,
        service: appointment.service,
        date: appointment.date,
        time: appointment.time,
        location: appointment.location,
        notes: appointment.notes,
        to_email: 'gabysstylellc24@gmail.com'
      };

      console.log('üìß Sending automatic email...', templateParams);

      // ENV√çO CON TUS CREDENCIALES COMPLETAS
      emailjs.send('service_wmf78jq', 'template_eauk9ak', templateParams)
          .then(function(response) {
              console.log('‚úÖ Automatic email SENT to Gaby:', response);
              // No mostrar notificaci√≥n para no molestar al usuario
          }, function(error) {
              console.error('‚ùå Error sending automatic email:', error);
              // No mostrar error al usuario
          });
    }

    // SISTEMA DE NOTIFICACIONES
    function showNotification(message, type = 'success') {
      const notification = document.getElementById('notification');
      const notificationText = document.getElementById('notificationText');
      
      notificationText.textContent = message;
      notification.style.background = type === 'error' ? '#f44336' : '#e91e63';
      notification.classList.add('active');
      
      setTimeout(() => {
        notification.classList.remove('active');
      }, 4000);
    }

    // VERIFICAR SESI√ìN RECORDADA AL CARGAR LA P√ÅGINA
    function checkRememberedUser() {
      const rememberedUser = localStorage.getItem('rememberedUser');
      if (rememberedUser) {
        const userData = JSON.parse(rememberedUser);
        if (userData.rememberMe) {
          const users = getUsers();
          const user = users.find(u => u.email === userData.email);
          if (user) {
            // Iniciar sesi√≥n autom√°ticamente
            userLoggedIn = true;
            currentUser = {
              name: user.name,
              email: user.email,
              phone: user.phone || '',
              avatar: user.name.charAt(0).toUpperCase()
            };
            
            // Cargar datos del usuario
            const userData = getUserData(user.email);
            userAppointments = userData.appointments || [];
            userFavorites = userData.favorites || [];
            
            updateUserInterface();
            showNotification(`Welcome Back, ${user.name}!`);
          }
        }
      }
    }

    // EVENT LISTENERS
    document.addEventListener('DOMContentLoaded', function() {
      // Verificar sesi√≥n recordada
      checkRememberedUser();

      // Inicializar Google Sign-In cuando la API est√© cargada
      if (typeof google !== 'undefined') {
        initializeGoogleSignIn();
      } else {
        // Si Google no est√° disponible, reintentar despu√©s de un tiempo
        setTimeout(initializeGoogleSignIn, 1000);
      }

      // Navegaci√≥n del men√∫
      const navLinks = document.querySelectorAll('.navigation a[href^="#"]');
      navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const targetId = link.getAttribute('href').substring(1);
          scrollToSection(targetId);
        });
      });

      // Bot√≥n Login del header
      document.querySelector('.btnLogin-popup').addEventListener('click', openLoginModal);

      // Sistema de estrellas para reviews
      const stars = document.querySelectorAll('.star');
      stars.forEach(star => {
        star.addEventListener('click', function() {
          const rating = this.getAttribute('data-rating');
          stars.forEach(s => {
            if (s.getAttribute('data-rating') <= rating) {
              s.classList.add('active');
            } else {
              s.classList.remove('active');
            }
          });
        });
      });

      // Formulario de reviews
      document.getElementById('reviewForm').addEventListener('submit', (e) => {
        e.preventDefault();
        showNotification('Thank you for your review! It will be published after being reviewed.');
        e.target.reset();
        stars.forEach(star => star.classList.remove('active'));
      });

      // Formulario de login
      document.getElementById('loginForm').addEventListener('submit', (e) => {
        e.preventDefault();
        login();
      });

      // Formulario de registro
      document.getElementById('registerForm').addEventListener('submit', (e) => {
        e.preventDefault();
        register();
      });

      // Formulario de recuperaci√≥n de contrase√±a
      document.getElementById('forgotPasswordForm').addEventListener('submit', (e) => {
        e.preventDefault();
        resetPassword();
      });

      // Formulario de reservas - ACTUALIZADO CON SOLO EMAIL
      document.getElementById('reservationForm').addEventListener('submit', function(e) {
        e.preventDefault();
        if (!userLoggedIn) {
          showNotification('You must log in to book an appointment.', 'error');
          closeReservationModal();
          openLoginModal();
          return;
        }
        
        const serviceText = document.getElementById('serviceSelect').options[document.getElementById('serviceSelect').selectedIndex].text;
        const newAppointment = {
          id: Date.now(),
          service: serviceText,
          date: document.getElementById('appointmentDate').value,
          time: document.getElementById('appointmentTime').value,
          location: document.querySelector('.location-option.selected') ? 
                   document.querySelector('.location-option.selected').getAttribute('data-location') : 'No especificado',
          status: "pending",
          clientName: document.getElementById('clientName').value,
          clientEmail: document.getElementById('clientEmail').value,
          clientPhone: document.getElementById('clientPhone').value,
          notes: document.getElementById('notes').value || 'No hay notas especificadas'
        };
        
        userAppointments.push(newAppointment);
        
        // Guardar datos
        saveUserData(currentUser.email, {
          appointments: userAppointments,
          favorites: userFavorites
        });
        
        // ENVIAR NOTIFICACIONES SOLO POR EMAIL
        sendAppointmentNotifications(newAppointment);
        
        showNotification('Appointment successfully booked! üìÖ A confirmation email has been sent.');
        closeReservationModal();
        this.reset();
      });

      // Cerrar modales al hacer clic fuera
      window.addEventListener('click', (e) => {
        if (e.target === document.querySelector('.reservation-modal')) {
          closeReservationModal();
        }
        if (e.target === document.querySelector('.wrapper')) {
          closeLoginModal();
        }
        if (e.target === document.querySelector('.profile-modal')) {
          closeProfileModal();
        }
        if (e.target === document.querySelector('.appointments-modal')) {
          closeAppointmentsModal();
        }
        if (e.target === document.querySelector('.favorites-modal')) {
          closeFavoritesModal();
        }
        if (e.target === document.querySelector('.settings-modal')) {
          closeSettingsModal();
        }
        if (!e.target.closest('.user-profile')) {
          closeProfileDropdown();
        }
      });

      // Fecha m√≠nima como hoy
      const dateInput = document.getElementById('appointmentDate');
      if (dateInput) {
        const today = new Date().toISOString().split('T')[0];
        dateInput.min = today;
      }
    });
  </script>
</body>
</html>

   
