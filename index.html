<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <title>Gaby's Style - Cejas, Pestañas & Labios</title>
  
  <!-- Google Auth -->
  <meta name="google-signin-client_id" content="460424594977-cuo5kttqufdspj1vamu2dmo9tr9lpd5g.apps.googleusercontent.com">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script>
    // INICIALIZAR EMAILJS CON TUS CREDENCIALES
    emailjs.init("cV1a2nnO7ksij3b8B");
  </script>
  
  <style>
    /* ===== ESTILOS BASE - TEMA ROSA Y NEGRO ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      min-height: 100vh;
      background: #000000; /* FONDO NEGRO */
      color: #ffffff; /* TEXTO BLANCO */
      scroll-behavior: smooth;
    }

    /* ===== HEADER - ROSA Y NEGRO ===== */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      padding: 20px 100px;
      background: rgba(0, 0, 0, 0.95); /* NEGRO SEMITRANSPARENTE */
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 99;
      box-shadow: 0 2px 20px rgba(233, 30, 99, 0.3); /* SOMBRA ROSA */
      backdrop-filter: blur(10px);
      border-bottom: 2px solid #e91e63; /* BORDE INFERIOR ROSA */
    }

    .logo {
      font-size: 2em;
      color: #e91e63; /* ROSA */
      user-select: none;
      font-weight: 700;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    /* MENÚ HAMBURGUESA (oculto en desktop) */
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 1.5em;
      color: #e91e63;
      cursor: pointer;
      padding: 10px;
      z-index: 100;
    }

    .navigation {
      display: flex;
      align-items: center;
      gap: 30px;
    }

    .navigation a {
      position: relative;
      font-size: 1.1em;
      color: #ffffff; /* TEXTO BLANCO */
      text-decoration: none;
      font-weight: 500;
      padding: 5px 0;
      transition: color 0.3s;
    }

    .navigation a:hover {
      color: #e91e63; /* ROSA AL HOVER */
    }

    .navigation a::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: -6px;
      width: 100%;
      height: 3px;
      background: #e91e63; /* ROSA */
      border-radius: 5px;
      transform-origin: right;
      transform: scaleX(0);
      transition: transform .5s;
    }

    .navigation a:hover::after {
      transform-origin: left;
      transform: scaleX(1);
    }

    .navigation .btnLogin-popup {
      width: 130px;
      height: 50px;
      background: transparent;
      border: 2px solid #e91e63;
      outline: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1.1em;
      color: #e91e63;
      font-weight: 500;
      transition: .5s;
      min-height: 44px;
    }

    .navigation .btnLogin-popup:hover {
      background: #e91e63;
      color: #ffffff;
    }

    /* PERFIL DE USUARIO */
    .user-profile {
      display: none;
      align-items: center;
      gap: 15px;
      color: #ffffff;
      position: relative;
    }

    .user-avatar {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: #e91e63;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 1.2em;
      border: 2px solid #e91e63;
      cursor: pointer;
      transition: all 0.3s;
      min-width: 45px;
    }

    .user-avatar:hover {
      transform: scale(1.1);
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.5);
    }

    .user-info {
      display: flex;
      flex-direction: column;
    }

    .user-name {
      font-weight: 600;
      font-size: 1em;
      color: #ffffff;
    }

    .user-email {
      font-size: 0.8em;
      color: #ff80ab; /* ROSA CLARO */
    }

    /* MENÚ DESPLEGABLE DEL PERFIL */
    .profile-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      background: #1a1a1a; /* FONDO OSCURO */
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(233, 30, 99, 0.3);
      padding: 15px 0;
      min-width: 200px;
      z-index: 1000;
      display: none;
      border: 1px solid rgba(233, 30, 99, 0.3);
      animation: dropdownFade 0.3s ease;
    }

    @keyframes dropdownFade {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .profile-dropdown.active {
      display: block;
    }

    .dropdown-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 20px;
      color: #ffffff;
      text-decoration: none;
      transition: all 0.3s;
      cursor: pointer;
      min-height: 44px;
    }

    .dropdown-item:hover {
      background: rgba(233, 30, 99, 0.2); /* FONDO ROSA TRANSPARENTE */
      color: #e91e63;
    }

    .dropdown-item i {
      font-size: 1.2em;
      width: 20px;
      text-align: center;
      color: #e91e63;
    }

    .dropdown-divider {
      height: 1px;
      background: rgba(233, 30, 99, 0.3);
      margin: 8px 0;
    }

    .dropdown-item.logout {
      color: #ff5252;
      border-top: 1px solid rgba(233, 30, 99, 0.3);
      margin-top: 5px;
      padding-top: 15px;
    }

    .dropdown-item.logout:hover {
      background: rgba(255, 82, 82, 0.2);
    }

    /* SECCIONES PRINCIPALES */
    .section {
      padding: 120px 20px 100px;
      min-height: 100vh;
    }

    /* HOME SECTION */
    #home {
      background: linear-gradient(rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.8)), url('pestana.jpeg');
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: white;
      position: relative;
      padding-top: 150px;
      overflow: hidden;
      min-height: calc(100vh - 80px);
    }

    .hero-content {
      background: rgba(0, 0, 0, 0.85); /* FONDO NEGRO TRANSPARENTE */
      padding: 60px 40px;
      border-radius: 25px;
      backdrop-filter: blur(10px);
      max-width: 1200px;
      width: 90%;
      box-shadow: 0 20px 40px rgba(233, 30, 99, 0.3);
      border: 2px solid #e91e63;
      position: relative;
      z-index: 2;
      margin: 0 auto;
    }

    .hero-content h1 {
      font-size: 3.5em;
      margin-bottom: 20px;
      color: #e91e63;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    .hero-content p {
      font-size: 1.3em;
      margin-bottom: 30px;
      color: #ffffff;
      line-height: 1.6;
    }

    /* GALERÍA DE FOTOS EN EL HOME */
    .beauty-gallery {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin: 40px 0;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }

    .gallery-item {
      position: relative;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(233, 30, 99, 0.3);
      transition: all 0.3s ease;
      aspect-ratio: 3/4;
      border: 2px solid #e91e63;
    }

    .gallery-item:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(233, 30, 99, 0.5);
      border-color: #ff80ab;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .gallery-item:hover img {
      transform: scale(1.1);
    }

    .gallery-label {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(233, 30, 99, 0.9));
      color: white;
      padding: 20px 15px 15px;
      text-align: center;
      font-weight: 600;
      font-size: 1.1em;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    .cta-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 30px;
    }

    .cta-btn {
      padding: 15px 30px;
      background: #e91e63;
      color: white;
      text-decoration: none;
      border-radius: 10px;
      font-weight: 600;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.4);
      border: none;
      cursor: pointer;
      font-size: 1em;
      min-height: 48px;
      border: 2px solid #e91e63;
    }

    .cta-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.6);
      background: #c2185b;
      border-color: #c2185b;
    }

    .scroll-down {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      color: #e91e63;
      font-size: 2em;
      animation: bounce 2s infinite;
      cursor: pointer;
      background: rgba(0, 0, 0, 0.9);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.4);
      z-index: 2;
      border: 2px solid #e91e63;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) translateX(-50%);
      }
      40% {
        transform: translateY(-10px) translateX(-50%);
      }
      60% {
        transform: translateY(-5px) translateX(-50%);
      }
    }

    /* FONDOS DECORATIVOS */
    .floating-element {
      position: absolute;
      border-radius: 50%;
      background: linear-gradient(45deg, #e91e63, #ff80ab);
      opacity: 0.2;
      animation: float 6s ease-in-out infinite;
    }

    .floating-element:nth-child(1) {
      width: 200px;
      height: 200px;
      top: 10%;
      left: 5%;
      animation-delay: 0s;
    }

    .floating-element:nth-child(2) {
      width: 150px;
      height: 150px;
      top: 60%;
      right: 10%;
      animation-delay: 2s;
    }

    .floating-element:nth-child(3) {
      width: 100px;
      height: 100px;
      bottom: 20%;
      left: 15%;
      animation-delay: 4s;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0px) rotate(0deg);
      }
      50% {
        transform: translateY(-20px) rotate(180deg);
      }
    }

    /* ABOUT SECTION */
    #about {
      background: #000000;
    }

    .about-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 50px;
      align-items: center;
    }

    .about-content h2 {
      font-size: 2.5em;
      color: #e91e63;
      margin-bottom: 30px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    .about-content p {
      font-size: 1.1em;
      line-height: 1.8;
      color: #ffffff;
      margin-bottom: 20px;
    }

    .about-content strong {
      color: #e91e63;
    }

    .about-image {
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 40px rgba(233, 30, 99, 0.3);
      border: 3px solid #e91e63;
    }

    .about-image img {
      width: 100%;
      height: 500px;
      object-fit: cover;
      display: block;
    }

    /* SERVICES SECTION */
    #services {
      background: #111111;
    }

    .services-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .services-container h2 {
      font-size: 2.5em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 50px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .service-card {
      background: rgba(26, 26, 26, 0.9);
      padding: 40px 30px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(233, 30, 99, 0.2);
      transition: all 0.3s;
      border: 2px solid #e91e63;
      cursor: pointer;
    }

    .service-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(233, 30, 99, 0.4);
      border-color: #ff80ab;
    }

    .service-icon {
      font-size: 3em;
      color: #e91e63;
      margin-bottom: 20px;
    }

    .service-card h3 {
      font-size: 1.5em;
      color: #e91e63;
      margin-bottom: 15px;
    }

    .service-card p {
      color: #cccccc;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    .service-price {
      font-size: 1.3em;
      color: #ff80ab;
      font-weight: 700;
    }

    .book-btn {
      padding: 12px 25px;
      background: #e91e63;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 15px;
      width: 100%;
      min-height: 44px;
      border: 2px solid #e91e63;
    }

    .book-btn:hover {
      background: #c2185b;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.4);
      border-color: #c2185b;
    }

    /* BOTÓN DE FAVORITOS EN SERVICIOS */
    .favorite-btn {
      background: transparent;
      border: 2px solid #e91e63;
      color: #e91e63;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      margin-top: 15px;
      width: 100%;
      min-height: 44px;
    }

    .favorite-btn:hover {
      background: #e91e63;
      color: white;
    }

    .favorite-btn.favorited {
      background: #e91e63;
      color: white;
    }

    /* REVIEWS SECTION */
    #reviews {
      background: #000000;
    }

    .reviews-container {
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
    }

    .reviews-container h2 {
      font-size: 2.5em;
      color: #e91e63;
      margin-bottom: 50px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    .reviews-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      margin-bottom: 60px;
    }

    .review-card {
      background: rgba(26, 26, 26, 0.9);
      padding: 30px;
      border-radius: 20px;
      text-align: left;
      box-shadow: 0 10px 30px rgba(233, 30, 99, 0.2);
      transition: all 0.3s;
      border: 2px solid #e91e63;
    }

    .review-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(233, 30, 99, 0.3);
      border-color: #ff80ab;
    }

    .review-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }

    .review-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #e91e63;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 1.2em;
      margin-right: 15px;
      border: 2px solid #e91e63;
    }

    .review-info h4 {
      color: #e91e63;
      margin-bottom: 5px;
    }

    .review-stars {
      color: #ffc107;
      font-size: 1.1em;
    }

    .review-text {
      color: #cccccc;
      line-height: 1.6;
      font-style: italic;
    }

    /* FORMULARIO PARA DEJAR REVIEW */
    .review-form-container {
      max-width: 600px;
      margin: 0 auto;
      background: rgba(26, 26, 26, 0.9);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(233, 30, 99, 0.2);
      border: 2px solid #e91e63;
    }

    .review-form-container h3 {
      color: #e91e63;
      text-align: center;
      margin-bottom: 30px;
      font-size: 1.8em;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    .review-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-group label {
      color: #e91e63;
      font-weight: 500;
    }

    .form-group input,
    .form-group textarea {
      padding: 12px 15px;
      border: 2px solid rgba(233, 30, 99, 0.3);
      border-radius: 10px;
      font-size: 1em;
      transition: all 0.3s;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      font-size: 16px;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #e91e63;
      box-shadow: 0 0 10px rgba(233, 30, 99, 0.3);
    }

    .stars-rating {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin: 10px 0;
    }

    .star {
      font-size: 2em;
      color: #444;
      cursor: pointer;
      transition: color 0.2s;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .star:hover,
    .star.active {
      color: #ffc107;
    }

    .submit-review {
      background: #e91e63;
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 10px;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 10px;
      min-height: 48px;
      border: 2px solid #e91e63;
    }

    .submit-review:hover {
      background: #c2185b;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.4);
      border-color: #c2185b;
    }

    /* CONTACT SECTION */
    #contact {
      background: #111111;
    }

    .contact-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .contact-container h2 {
      font-size: 2.5em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 50px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    .contact-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 50px;
      align-items: start;
    }

    .contact-info {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 20px;
      background: rgba(26, 26, 26, 0.9);
      border-radius: 15px;
      transition: all 0.3s;
      border: 2px solid #e91e63;
    }

    .contact-item:hover {
      transform: translateX(10px);
      box-shadow: 0 10px 25px rgba(233, 30, 99, 0.2);
      border-color: #ff80ab;
    }

    .contact-icon {
      font-size: 1.8em;
      color: #e91e63;
      width: 50px;
      text-align: center;
    }

    .contact-item h3 {
      color: #e91e63;
      margin-bottom: 8px;
      font-size: 1.2em;
    }

    .contact-item p {
      color: #cccccc;
    }

    .contact-link {
      color: #ff80ab;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s;
    }

    .contact-link:hover {
      color: #e91e63;
      text-decoration: underline;
    }

    /* MAPA */
    .map-container {
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(233, 30, 99, 0.2);
      height: 400px;
      border: 3px solid #e91e63;
    }

    .map-container iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    .map-notice {
      text-align: center;
      margin-top: 15px;
      padding: 15px;
      background: rgba(26, 26, 26, 0.9);
      border-radius: 10px;
      color: #e91e63;
      font-weight: 500;
      border: 2px solid #e91e63;
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 40px;
    }

    .social-link {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      background: #e91e63;
      color: white;
      border-radius: 50%;
      text-decoration: none;
      font-size: 1.5em;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.4);
      border: 2px solid #e91e63;
    }

    .social-link:hover {
      transform: scale(1.1);
      background: #c2185b;
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.6);
      border-color: #c2185b;
    }

    /* ===== MODALES - TEMA ROSA Y NEGRO ===== */
    
    /* MODAL DE LOGIN/REGISTER */
    .wrapper {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .wrapper.active-popup {
      display: flex;
    }

    .form-container {
      position: relative;
      width: 450px;
      background: rgba(26, 26, 26, 0.95);
      border: 2px solid #e91e63;
      border-radius: 25px;
      box-shadow: 0 25px 50px rgba(233, 30, 99, 0.3);
      overflow: hidden;
    }

    .icon-close {
      position: absolute;
      top: 0;
      right: 0;
      width: 50px;
      height: 50px;
      background: #e91e63;
      font-size: 2em;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      border-bottom-left-radius: 20px;
      cursor: pointer;
      z-index: 1;
      transition: background 0.3s;
      min-height: 50px;
      border: 2px solid #e91e63;
    }

    .icon-close:hover {
      background: #c2185b;
      border-color: #c2185b;
    }

    .form-box {
      width: 100%;
      padding: 40px;
    }

    .form-box h2 {
      font-size: 2.2em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 30px;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }

    .input-box {
      position: relative;
      width: 100%;
      height: 55px;
      border-bottom: 2px solid rgba(233, 30, 99, 0.3);
      margin: 25px 0;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 0 15px;
    }

    .input-box label {
      position: absolute;
      top: 50%;
      left: 15px;
      transform: translateY(-50%);
      font-size: 1em;
      color: #e91e63;
      font-weight: 500;
      pointer-events: none;
      transition: .5s;
      background: transparent;
      padding: 0 5px;
    }

    .input-box input:focus~label,
    .input-box input:valid~label {
      top: -5px;
      color: #ff80ab;
      font-size: 0.9em;
    }

    .input-box input {
      width: 100%;
      height: 100%;
      background: transparent;
      border: none;
      outline: none;
      font-size: 1em;
      color: #ffffff;
      font-weight: 600;
      padding: 0 35px 0 5px;
      font-size: 16px;
    }

    .input-box .icon {
      position: absolute;
      right: 15px;
      font-size: 1.3em;
      color: #e91e63;
      line-height: 57px;
    }

    .remember-forgot {
      font-size: .9em;
      color: #e91e63;
      font-weight: 500;
      margin: -10px 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .remember-forgot label {
      display: flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
      color: #ffffff;
    }

    .remember-forgot label input {
      accent-color: #e91e63;
    }

    .remember-forgot a {
      color: #ff80ab;
      text-decoration: none;
      transition: color 0.3s;
    }

    .remember-forgot a:hover {
      color: #e91e63;
      text-decoration: underline;
    }

    .btn {
      width: 100%;
      height: 50px;
      background: #e91e63;
      border: none;
      outline: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.1em;
      color: #fff;
      font-weight: 600;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
      margin-top: 10px;
      min-height: 50px;
      border: 2px solid #e91e63;
    }

    .btn:hover {
      background: #c2185b;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
      border-color: #c2185b;
    }

    .login-register {
      font-size: .9em;
      color: #e91e63;
      text-align: center;
      font-weight: 500;
      margin: 25px 0 10px;
    }

    .login-register p a {
      color: #ff80ab;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s;
    }

    .login-register p a:hover {
      color: #e91e63;
      text-decoration: underline;
    }

    /* MODAL DE RESERVAS */
    .reservation-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .reservation-modal.active {
      display: flex;
    }

    .reservation-content {
      background: rgba(26, 26, 26, 0.95);
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      max-height: 85vh;
      overflow-y: auto;
      padding: 30px;
      box-shadow: 0 25px 50px rgba(233, 30, 99, 0.3);
      position: relative;
      border: 2px solid #e91e63;
      -webkit-overflow-scrolling: touch;
    }

    .close-reservation {
      position: absolute;
      top: 0;
      right: 0;
      width: 45px;
      height: 45px;
      background: #e91e63;
      font-size: 1.5em;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      border-bottom-left-radius: 15px;
      cursor: pointer;
      z-index: 1;
      transition: background 0.3s;
      min-height: 44px;
      border: 2px solid #e91e63;
    }

    .close-reservation:hover {
      background: #c2185b;
      border-color: #c2185b;
    }

    .reservation-content h2 {
      font-size: 1.8em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 25px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    .reservation-form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .reservation-form .input-box {
      margin: 15px 0;
      background: rgba(255, 255, 255, 0.1);
    }

    .reservation-form select {
      width: 100%;
      height: 50px;
      background: transparent;
      border: none;
      outline: none;
      font-size: 1em;
      color: #ffffff;
      font-weight: 600;
      padding: 0 35px 0 15px;
      font-size: 16px;
    }

    .reservation-form textarea {
      width: 100%;
      height: 80px;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(233, 30, 99, 0.3);
      border-radius: 10px;
      outline: none;
      font-size: 1em;
      color: #ffffff;
      font-weight: 600;
      padding: 12px;
      resize: vertical;
      transition: all 0.3s;
      margin-top: 5px;
      font-size: 16px;
    }

    .reservation-form textarea:focus {
      border-color: #e91e63;
      box-shadow: 0 0 10px rgba(233, 30, 99, 0.3);
    }

    .form-row {
      display: flex;
      gap: 12px;
    }

    .form-row .input-box {
      flex: 1;
    }

    .location-options {
      display: flex;
      gap: 12px;
      margin: 12px 0;
    }

    .location-option {
      flex: 1;
      text-align: center;
      padding: 12px;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(233, 30, 99, 0.3);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.9em;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
    }

    .location-option:hover,
    .location-option.selected {
      background: #e91e63;
      color: white;
      border-color: #e91e63;
    }

    /* OPCIONES DE SERVICIOS */
    .service-options-container {
      display: none;
      background: rgba(26, 26, 26, 0.9);
      border-radius: 10px;
      padding: 15px;
      margin: 10px 0;
      border: 2px solid rgba(233, 30, 99, 0.3);
    }

    .service-options-container.active {
      display: block;
    }

    .service-options-title {
      font-size: 1em;
      color: #e91e63;
      margin-bottom: 10px;
      font-weight: 600;
      text-align: center;
    }

    .service-options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }

    .service-option {
      padding: 10px;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(233, 30, 99, 0.3);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: center;
      font-size: 0.9em;
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
    }

    .service-option:hover,
    .service-option.selected {
      background: #e91e63;
      color: white;
      border-color: #e91e63;
    }

    /* NOTIFICACIÓN DE LOGIN REQUERIDO */
    .login-required {
      text-align: center;
      padding: 20px;
      background: rgba(26, 26, 26, 0.9);
      border-radius: 15px;
      margin-bottom: 20px;
      border: 2px solid #e91e63;
    }

    .login-required p {
      color: #e91e63;
      font-weight: 600;
      margin-bottom: 15px;
    }

    .login-required-btn {
      background: #e91e63;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      min-height: 44px;
      border: 2px solid #e91e63;
    }

    .login-required-btn:hover {
      background: #c2185b;
      border-color: #c2185b;
    }

    /* OTROS MODALES (PERFIL, CITAS, FAVORITOS, CONFIGURACIÓN) */
    .profile-modal, .appointments-modal, .favorites-modal, .settings-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .profile-modal.active, .appointments-modal.active, .favorites-modal.active, .settings-modal.active {
      display: flex;
    }

    .profile-content, .appointments-content, .favorites-content, .settings-content {
      background: rgba(26, 26, 26, 0.95);
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      max-height: 85vh;
      overflow-y: auto;
      padding: 30px;
      box-shadow: 0 25px 50px rgba(233, 30, 99, 0.3);
      position: relative;
      border: 2px solid #e91e63;
      -webkit-overflow-scrolling: touch;
    }

    .close-profile, .close-appointments, .close-favorites, .close-settings {
      position: absolute;
      top: 0;
      right: 0;
      width: 45px;
      height: 45px;
      background: #e91e63;
      font-size: 1.5em;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      border-bottom-left-radius: 15px;
      cursor: pointer;
      z-index: 1;
      transition: background 0.3s;
      min-height: 44px;
      border: 2px solid #e91e63;
    }

    .close-profile:hover, .close-appointments:hover, .close-favorites:hover, .close-settings:hover {
      background: #c2185b;
      border-color: #c2185b;
    }

    .profile-content h2, .appointments-content h2, .favorites-content h2, .settings-content h2 {
      font-size: 1.8em;
      color: #e91e63;
      text-align: center;
      margin-bottom: 25px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
    }

    /* ESTILOS PARA CITAS */
    .appointments-list {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-top: 20px;
    }

    .appointment-card {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.2);
      border: 2px solid rgba(233, 30, 99, 0.3);
      transition: all 0.3s;
    }

    .appointment-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.3);
      border-color: #e91e63;
    }

    .appointment-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .appointment-service {
      font-weight: 600;
      color: #e91e63;
      font-size: 1.1em;
    }

    .appointment-status {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8em;
      font-weight: 600;
    }

    .status-confirmed {
      background: rgba(46, 125, 50, 0.2);
      color: #4caf50;
      border: 1px solid #4caf50;
    }

    .status-pending {
      background: rgba(239, 108, 0, 0.2);
      color: #ff9800;
      border: 1px solid #ff9800;
    }

    .status-cancelled {
      background: rgba(244, 67, 54, 0.2);
      color: #f44336;
      border: 1px solid #f44336;
    }

    .appointment-details {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .appointment-date, .appointment-time, .appointment-location {
      display: flex;
      align-items: center;
      gap: 8px;
      color: #cccccc;
      font-size: 0.9em;
    }

    .appointment-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }
    
    .cancel-btn {
      background: transparent;
      border: 1px solid #f44336;
      color: #f44336;
      padding: 8px 15px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.8em;
      font-weight: 600;
      min-height: 36px;
    }
    
    .cancel-btn:hover {
      background: #f44336;
      color: white;
    }
    
    .cancelled-badge {
      background: #f44336;
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.8em;
      font-weight: 600;
      margin-left: 10px;
      border: 1px solid #f44336;
    }

    .delete-btn {
      background: transparent;
      border: 1px solid #666;
      color: #666;
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.7em;
      font-weight: 600;
      margin-top: 10px;
      min-height: 36px;
    }
    
    .delete-btn:hover {
      background: #666;
      color: white;
    }

    /* FAVORITOS */
    .favorites-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 15px;
      margin-top: 20px;
    }

    .favorite-card {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.2);
      border: 2px solid rgba(233, 30, 99, 0.3);
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .favorite-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(233, 30, 99, 0.3);
      border-color: #e91e63;
    }

    .favorite-icon {
      width: 50px;
      height: 50px;
      background: #e91e63;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5em;
      border: 2px solid #e91e63;
    }

    .favorite-info {
      flex: 1;
    }

    .favorite-name {
      font-weight: 600;
      color: #e91e63;
      margin-bottom: 5px;
    }

    .favorite-price {
      color: #cccccc;
      font-size: 0.9em;
    }

    .remove-favorite {
      background: transparent;
      border: 1px solid #f44336;
      color: #f44336;
      padding: 8px 15px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.8em;
      min-height: 36px;
    }

    .remove-favorite:hover {
      background: #f44336;
      color: white;
    }

    /* CONFIGURACIÓN */
    .settings-form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .settings-section {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.2);
      border: 2px solid rgba(233, 30, 99, 0.3);
    }

    .settings-section h3 {
      color: #e91e63;
      margin-bottom: 15px;
      font-size: 1.2em;
    }

    .form-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      margin-top: 20px;
    }

    .save-btn {
      background: #e91e63;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      min-height: 44px;
      border: 2px solid #e91e63;
    }

    .save-btn:hover {
      background: #c2185b;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.4);
      border-color: #c2185b;
    }

    .cancel-btn-settings {
      background: transparent;
      border: 1px solid #e91e63;
      color: #e91e63;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
      min-height: 44px;
    }

    .cancel-btn-settings:hover {
      background: #e91e63;
      color: white;
    }

    /* NOTIFICACIONES */
    .notification {
      position: fixed;
      top: 100px;
      right: 20px;
      padding: 15px 25px;
      background: #e91e63;
      color: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.4);
      z-index: 1001;
      display: none;
      align-items: center;
      gap: 10px;
      border: 2px solid #e91e63;
    }

    .notification.active {
      display: flex;
      animation: slideIn 0.3s ease-out;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* GOOGLE AUTH */
    .google-btn-custom {
      width: 100%;
      height: 50px;
      background: white;
      border: 2px solid #e91e63;
      outline: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.1em;
      color: #e91e63;
      font-weight: 600;
      transition: all 0.3s;
      margin-top: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      min-height: 50px;
    }

    .google-btn-custom:hover {
      background: #f5f5f5;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
    }

    /* ===== MEDIA QUERIES PARA RESPONSIVIDAD ===== */
    
    /* TABLETS GRANDES (1200px o menos) */
    @media (max-width: 1200px) {
      header {
        padding: 20px 50px;
      }
      
      .hero-content h1 {
        font-size: 3em;
      }
      
      .about-container {
        gap: 40px;
      }
      
      .about-image img {
        height: 450px;
      }
    }

    /* TABLETS (992px o menos) */
    @media (max-width: 992px) {
      header {
        padding: 20px 30px;
      }
      
      .logo {
        font-size: 1.8em;
      }
      
      .navigation {
        gap: 20px;
      }
      
      .hero-content h1 {
        font-size: 2.5em;
      }
      
      .hero-content p {
        font-size: 1.2em;
      }
      
      .about-container {
        grid-template-columns: 1fr;
        text-align: center;
        gap: 40px;
      }
      
      .about-image img {
        height: 400px;
      }
      
      .contact-content {
        grid-template-columns: 1fr;
        gap: 40px;
      }
      
      .reviews-grid {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      }
      
      .form-container {
        width: 400px;
      }
    }

    /* TABLETS Y MÓVILES GRANDES (768px o menos) */
    @media (max-width: 768px) {
      /* HEADER RESPONSIVO */
      header {
        padding: 15px 20px;
        flex-wrap: wrap;
      }
      
      .logo {
        font-size: 1.5em;
        order: 1;
      }
      
      .mobile-menu-btn {
        display: block;
        order: 2;
        margin-left: auto;
      }
      
      .navigation {
        position: fixed;
        top: 80px;
        left: 0;
        width: 100%;
        background: rgba(0, 0, 0, 0.95);
        backdrop-filter: blur(10px);
        flex-direction: column;
        padding: 20px;
        box-shadow: 0 10px 30px rgba(233, 30, 99, 0.3);
        display: none;
        z-index: 98;
        gap: 0;
        border-top: 2px solid #e91e63;
      }
      
      .navigation.active {
        display: flex;
      }
      
      .navigation a {
        width: 100%;
        text-align: center;
        padding: 15px 0;
        border-bottom: 1px solid rgba(233, 30, 99, 0.3);
        font-size: 1.1em;
      }
      
      .navigation a:last-child {
        border-bottom: none;
      }
      
      .navigation a::after {
        display: none;
      }
      
      .user-profile {
        order: 3;
        flex-direction: row;
        justify-content: center;
        margin: 15px 0;
        gap: 15px;
        width: 100%;
      }
      
      .user-info {
        display: flex;
      }
      
      .btnLogin-popup {
        width: 100%;
        margin-top: 10px;
      }
      
      /* HERO SECTION */
      .section {
        padding: 100px 20px 80px;
      }
      
      #home {
        padding-top: 120px;
        min-height: calc(100vh - 70px);
      }
      
      .hero-content {
        padding: 40px 20px;
        width: 95%;
      }
      
      .hero-content h1 {
        font-size: 2.2em;
        line-height: 1.3;
      }
      
      .hero-content p {
        font-size: 1.1em;
        line-height: 1.5;
      }
      
      .beauty-gallery {
        grid-template-columns: 1fr;
        gap: 15px;
        max-width: 400px;
        margin: 30px auto;
      }
      
      .gallery-item {
        aspect-ratio: 4/3;
      }
      
      .cta-buttons {
        flex-direction: column;
        gap: 15px;
      }
      
      .cta-btn {
        width: 100%;
        max-width: 280px;
        margin: 0 auto;
      }
      
      .scroll-down {
        width: 50px;
        height: 50px;
        font-size: 1.5em;
      }
      
      /* ABOUT SECTION */
      .about-content h2,
      .services-container h2,
      .reviews-container h2,
      .contact-container h2 {
        font-size: 2em;
        margin-bottom: 30px;
      }
      
      .about-image img {
        height: 350px;
      }
      
      /* SERVICES SECTION */
      .services-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
      }
      
      .service-card {
        padding: 30px 20px;
      }
      
      .service-icon {
        font-size: 2.5em;
      }
      
      .service-card h3 {
        font-size: 1.3em;
      }
      
      /* REVIEWS SECTION */
      .reviews-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .review-card {
        padding: 25px 20px;
      }
      
      .review-form-container {
        padding: 30px 20px;
      }
      
      .stars-rating {
        gap: 5px;
      }
      
      .star {
        font-size: 1.8em;
      }
      
      /* CONTACT SECTION */
      .contact-item {
        padding: 15px;
      }
      
      .map-container {
        height: 300px;
      }
      
      .social-links {
        gap: 15px;
      }
      
      .social-link {
        width: 45px;
        height: 45px;
        font-size: 1.3em;
      }
      
      /* MODALES */
      .form-container,
      .reservation-content,
      .profile-content,
      .appointments-content,
      .favorites-content,
      .settings-content {
        width: 95%;
        margin: 10px;
        padding: 25px 20px;
        max-height: 90vh;
      }
      
      .form-box {
        padding: 30px 20px;
      }
      
      .form-box h2 {
        font-size: 1.8em;
      }
      
      .input-box {
        margin: 20px 0;
        height: 50px;
      }
      
      /* APPOINTMENTS Y FAVORITES */
      .appointment-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
      
      .appointment-actions {
        flex-direction: column;
      }
      
      .cancel-btn,
      .delete-btn,
      .remove-favorite {
        width: 100%;
      }
      
      .confirmation-buttons {
        flex-direction: column;
      }
      
      .favorite-card {
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }
      
      .favorite-icon {
        margin: 0 auto;
      }
      
      /* FORM ROWS EN MÓVIL */
      .form-row {
        flex-direction: column;
      }
      
      .location-options {
        flex-direction: column;
      }
      
      .service-options {
        grid-template-columns: 1fr;
      }
      
      /* BOTONES */
      .btn,
      .submit-review,
      .save-btn,
      .cancel-btn-settings {
        width: 100%;
      }
      
      .form-actions {
        flex-direction: column;
      }
      
      /* PROFILE DROPDOWN EN MÓVIL */
      .profile-dropdown {
        right: -10px;
        min-width: 180px;
      }
    }

    /* MÓVILES PEQUEÑOS (576px o menos) */
    @media (max-width: 576px) {
      .section {
        padding: 90px 15px 70px;
      }
      
      #home {
        padding-top: 100px;
      }
      
      .hero-content h1 {
        font-size: 1.8em;
      }
      
      .hero-content p {
        font-size: 1em;
      }
      
      .beauty-gallery {
        max-width: 100%;
      }
      
      .about-content h2,
      .services-container h2,
      .reviews-container h2,
      .contact-container h2 {
        font-size: 1.8em;
      }
      
      .about-image img {
        height: 300px;
      }
      
      .services-grid {
        grid-template-columns: 1fr;
      }
      
      .review-form-container {
        padding: 25px 15px;
      }
      
      .contact-item {
        flex-direction: column;
        text-align: center;
        gap: 10px;
      }
      
      .contact-icon {
        margin: 0 auto;
      }
      
      .map-container {
        height: 250px;
      }
      
      .form-container {
        width: 95%;
      }
    }

    /* MÓVILES MUY PEQUEÑOS (400px o menos) */
    @media (max-width: 400px) {
      header {
        padding: 12px 15px;
      }
      
      .logo {
        font-size: 1.3em;
      }
      
      .mobile-menu-btn {
        font-size: 1.3em;
        padding: 8px;
      }
      
      .hero-content {
        padding: 30px 15px;
      }
      
      .hero-content h1 {
        font-size: 1.6em;
      }
      
      .gallery-label {
        font-size: 1em;
        padding: 15px 10px 10px;
      }
      
      .form-container,
      .reservation-content,
      .profile-content,
      .appointments-content,
      .favorites-content,
      .settings-content {
        padding: 20px 15px;
        margin: 5px;
      }
      
      .form-box {
        padding: 25px 15px;
      }
      
      .form-box h2 {
        font-size: 1.6em;
      }
    }

    /* ORIENTACIÓN HORIZONTAL EN MÓVILES */
    @media (max-height: 600px) and (orientation: landscape) {
      #home {
        min-height: auto;
        padding: 100px 20px 60px;
      }
      
      .hero-content {
        padding: 30px 20px;
      }
      
      .beauty-gallery {
        grid-template-columns: repeat(3, 1fr);
        max-width: 100%;
      }
      
      .gallery-item {
        aspect-ratio: 1/1;
      }
      
      .navigation {
        max-height: 70vh;
        overflow-y: auto;
      }
      
      .form-container,
      .reservation-content {
        max-height: 95vh;
      }
    }
  </style>
</head>
<body>

  <header>
    <h2 class="logo">Gaby's Style</h2>
    
    <!-- Botón hamburguesa para móvil -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <i class="fas fa-bars"></i>
    </button>
    
    <nav class="navigation" id="mainNavigation">
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#services">Services</a>
      <a href="#reviews">Reviews</a>
      <a href="#contact">Contact</a>
      
      <!-- PERFIL DE USUARIO (oculto inicialmente) -->
      <div class="user-profile" id="userProfile">
        <div class="user-avatar" id="userAvatar" onclick="toggleProfileDropdown()">U</div>
        <div class="user-info">
          <span class="user-name" id="userName">Usuario</span>
          <span class="user-email" id="userEmail">usuario@ejemplo.com</span>
        </div>
        
        <!-- MENÚ DESPLEGABLE -->
        <div class="profile-dropdown" id="profileDropdown">
          <div class="dropdown-item" onclick="openProfileModal()">
            <i>👤</i>
            <span>Mi Perfil</span>
          </div>
          <div class="dropdown-item" onclick="openAppointmentsModal()">
            <i>📅</i>
            <span>Mis Citas</span>
          </div>
          <div class="dropdown-item" onclick="openFavoritesModal()">
            <i>❤️</i>
            <span>Favoritos</span>
          </div>
          <div class="dropdown-divider"></div>
          <div class="dropdown-item" onclick="openSettingsModal()">
            <i>⚙️</i>
            <span>Configuración</span>
          </div>
          <div class="dropdown-item logout" onclick="logout()">
            <i>🚪</i>
            <span>Cerrar Sesión</span>
          </div>
        </div>
      </div>
      
      <!-- BOTÓN DE LOGIN (visible inicialmente) -->
      <button class="btnLogin-popup" id="loginBtn">Login</button>
    </nav>
  </header>

  <!-- NOTIFICACIÓN -->
  <div class="notification" id="notification">
    <span id="notificationText">Mensaje de notificación</span>
  </div>

  <!-- SECCIONES PRINCIPALES -->
  <section id="home">
    <!-- Elementos decorativos flotantes -->
    <div class="floating-element"></div>
    <div class="floating-element"></div>
    <div class="floating-element"></div>
    
    <div class="hero-content">
      <h1>𝒢𝒶𝒷𝓎'𝓈 𝒮𝓉𝓎𝓁𝑒</h1>
      <p>Specialists in enhancing your natural beauty with professional eyebrow, eyelash, and lip services. Discover your best version with us.</p>
      
      <!-- GALERÍA DE FOTOS CON TUS IMÁGENES ORIGINALES -->
      <div class="beauty-gallery">
        <div class="gallery-item">
          <img src="pestaña.jpeg" alt="Extensiones de pestañas volumen rusas">
          <div class="gallery-label">Perfect eyelashes</div>
        </div>
        <div class="gallery-item">
          <img src="ceja.jpeg" alt="Cejas perfectamente diseñadas">
          <div class="gallery-label">Perfect Eyebrows</div>
        </div>
        <div class="gallery-item">
          <img src="labios jugosos😍.jpeg" alt="Labios definidos con micropigmentación">
          <div class="gallery-label">Defined Lips</div>
        </div>
      </div>

      <div class="cta-buttons">
        <button class="cta-btn" onclick="scrollToSection('services')">View Services</button>
        <button class="cta-btn" onclick="openReservationModal()">Book Appointment</button>
        <button class="cta-btn" onclick="scrollToSection('contact')">Contact</button>
      </div>
    </div>
    <div class="scroll-down" onclick="scrollToSection('about')">⬇️</div>
  </section>

  <section id="about">
    <div class="about-container">
      <div class="about-content">
        <h2>About Us</h2>
        <p>In <strong>Gaby's Style</strong> we are dedicated to enhancing your natural beauty with professional techniques and the highest quality products. With years of experience in the aesthetics world, we specialize in creating personalized looks that adapt to your unique features.</p>
        <p>Our mission is to provide you with a unique experience where you feel comfortable, heard, and beautifully transformed. We believe that everyone deserves to feel secure and radiant.</p>
        <p>We offer services in our studio in Orlando, FL.</p>
      </div>
      <div class="about-image">
        <img src="Cat-Eye-Volume-MinuteLash_7ab1e65f-fcf7-4dd2-8128-c7203be3a3a2.837d15bdd47a3e7f19a8a5eaf2acc407.jpeg" alt="Ojos hermosos con maquillaje profesional">
      </div>
    </div>
  </section>

  <section id="services">
    <div class="services-container">
      <h2>Our services</h2>
      <div class="services-grid">
        <div class="service-card">
          <div class="service-icon">✏️</div>
          <h3>Eyebrows (Microblading / Powder Brows)</h3>
          <p>Professional eyebrow shaping and design. New service or touch-up available.</p>
          <div class="service-price">$80</div>
          <button class="favorite-btn" onclick="toggleFavorite('eyebrows', this)">❤️ Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('eyebrows')">Book Now</button>
        </div>
        
        <div class="service-card">
          <div class="service-icon">👁️</div>
          <h3>Eyelash Extensions</h3>
          <p>Natural and elegant lashes that add length and definition. Choose from Volume, Mega Volume, Classic, or Refill</p>
          <div class="service-price">From $100</div>
          <button class="favorite-btn" onclick="toggleFavorite('eyelash_extensions', this)">❤️ Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('eyelash_extensions')">Book Now</button>
        </div>
        
        <div class="service-card">
          <div class="service-icon">👁️</div>
          <h3>Lash Lifting</h3>
          <p>Professional lash lifting to enhance your natural lashes</p>
          <div class="service-price">$80</div>
          <button class="favorite-btn" onclick="toggleFavorite('lash_lifting', this)">❤️ Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('lash_lifting')">Book Now</button>
        </div>
        
        <div class="service-card">
          <div class="service-icon">👁️</div>
          <h3>Eyebrow Lifting</h3>
          <p>Professional eyebrow lifting to enhance your natural brows</p>
          <div class="service-price">$80</div>
          <button class="favorite-btn" onclick="toggleFavorite('eyebrow_lifting', this)">❤️ Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('eyebrow_lifting')">Book Now</button>
        </div>
        
        <div class="service-card">
          <div class="service-icon">🎨</div>
          <h3>Henna Brows</h3>
          <p>Semi-permanent eyebrow tinting for natural looking brows</p>
          <div class="service-price">$65</div>
          <button class="favorite-btn" onclick="toggleFavorite('henna_brows', this)">❤️ Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('henna_brows')">Book Now</button>
        </div>
        
        <div class="service-card">
          <div class="service-icon">💋</div>
          <h3>Lip Micropigmentation</h3>
          <p>Semi-permanent color that keeps your lips perfect all day. New service or touch-up available.</p>
          <div class="service-price">$250</div>
          <button class="favorite-btn" onclick="toggleFavorite('lip_micropigmentation', this)">❤️ Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('lip_micropigmentation')">Book Now</button>
        </div>
        
        <div class="service-card">
          <div class="service-icon">❌</div>
          <h3>Tattoo Removal - Eyebrows</h3>
          <p>Professional eyebrow tattoo removal services</p>
          <div class="service-price">$250</div>
          <button class="favorite-btn" onclick="toggleFavorite('eyebrow_tattoo_removal', this)">❤️ Add to Favorites</button>
          <button class="book-btn" onclick="openServiceReservation('eyebrow_tattoo_removal')">Book Now</button>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCIÓN REVIEWS CON FORMULARIO -->
  <section id="reviews">
    <div class="reviews-container">
      <h2>Customer Reviews</h2>
      <div class="reviews-grid">
        <div class="review-card">
          <div class="review-header">
            <div class="review-avatar">M</div>
            <div class="review-info">
              <h4>María González</h4>
              <div class="review-stars">★★★★★</div>
            </div>
          </div>
          <p class="review-text">"Amazing service! Gaby is very professional and detail-oriented. My eyelashes turned out perfect and natural. I will definitely return."</p>
        </div>
        
        <div class="review-card">
          <div class="review-header">
            <div class="review-avatar">C</div>
            <div class="review-info">
              <h4>Carolina Ruiz</h4>
              <div class="review-stars">★★★★★</div>
            </div>
          </div>
          <p class="review-text">"The best eyebrow service I've ever received. Gaby really understands the natural shape of the face. I loved it!"</p>
        </div>
        
        <div class="review-card">
          <div class="review-header">
            <div class="review-avatar">A</div>
            <div class="review-info">
              <h4>Ana Martínez</h4>
              <div class="review-stars">★★★★★</div>
            </div>
          </div>
          <p class="review-text">"Excellent service. Very punctual and professional. My lips turned out perfect with the tinting. 100% recommended."</p>
        </div>
        <!-- Contenedor dinámico para reseñas guardadas -->
        <div id="dynamicReviews"></div>
      </div>

      <!-- FORMULARIO PARA DEJAR REVIEW -->
      <div class="review-form-container">
        <h3>Leave your review</h3>
        <form class="review-form" id="reviewForm">
          <div class="form-group">
            <label for="reviewName">Your Name</label>
            <input type="text" id="reviewName" required placeholder="Enter your name">
          </div>
          
          <div class="form-group">
            <label>Calification</label>
            <div class="stars-rating" id="starsRating">
              <span class="star" data-rating="1">★</span>
              <span class="star" data-rating="2">★</span>
              <span class="star" data-rating="3">★</span>
              <span class="star" data-rating="4">★</span>
              <span class="star" data-rating="5">★</span>
            </div>
          </div>
          
          <div class="form-group">
            <label for="reviewText">Your review</label>
            <textarea id="reviewText" required placeholder="share your experience..." rows="4"></textarea>
          </div>
          
          <button type="submit" class="submit-review">Submit</button>
        </form>
      </div>
    </div>
  </section>

  <section id="contact">
    <div class="contact-container">
      <h2>Contact Us</h2>
      <div class="contact-content">
        <div class="contact-info">
          <div class="contact-item">
            <div class="contact-icon">📍</div>
            <div>
              <h3>Location</h3>
              <p>Orlando, FL</p>
              <p>Studio Services Only</p>
            </div>
          </div>
          
          <div class="contact-item">
            <div class="contact-icon">📞</div>
            <div>
              <h3>Phone / WhatsApp</h3>
              <p><a href="tel:+13216626266" class="contact-link">+1 (321) 662-6266</a></p>
            </div>
          </div>
          
          <div class="contact-item">
            <div class="contact-icon">📧</div>
            <div>
              <h3>Email</h3>
              <p><a href="mailto:gabysstylellc24@gmail.com" class="contact-link">gabysstylellc24@gmail.com</a></p>
            </div>
          </div>
          
          <div class="contact-item">
            <div class="contact-icon">📱</div>
            <div>
              <h3>Instagram</h3>
              <p><a href="https://www.instagram.com/style_gaby_lashes/" class="contact-link" target="_blank">@style_gaby_lashes</a></p>
            </div>
          </div>

          <div class="contact-item">
            <div class="contact-icon">⏰</div>
            <div>
              <h3>Schedule</h3>
              <p>Monday - Friday: 9:00 AM - 7:00 PM</p>
              <p>Saturday: 10:00 AM - 5:00 PM</p>
              <p>Sunday: Closed</p>
            </div>
          </div>
        </div>

        <div class="map-section">
          <div class="map-container">
            <iframe 
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d224469.3940310263!2d-81.52079495!3d28.481177!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88e773d8fecdbc77%3A0xac591d3d6bfc4d2f!2sOrlando%2C%20Florida%2C%20EE.%20UU.!5e0!3m2!1ses!2s!4v1690000000000!5m2!1ses!2s" 
              allowfullscreen="" 
              loading="lazy" 
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
          <div class="map-notice">
            🏪 Studio services only in Orlando, FL
          </div>
        </div>
      </div>
      
      <div class="social-links">
        <a href="https://www.instagram.com/style_gaby_cora/" class="social-link" target="_blank">
          📸
        </a>
        <a href="https://www.facebook.com/share/168Jesx9sW/?mibextid=wwXIfr" class="social-link" target="_blank">
          👍
        </a>
        <a href="https://wa.me/13216626266" class="social-link" target="_blank">
          💬
        </a>
        <a href="mailto:gabysstylellc24@gmail.com" class="social-link">
          ✉️
        </a>
      </div>
    </div>
  </section>

  <!-- MODALES -->
  <div class="wrapper">
    <div class="form-container">
      <span class="icon-close" onclick="closeLoginModal()">✖</span>

      <div class="form-box login">
        <h2>Login</h2>
        <form id="loginForm">
          <div class="input-box">
            <span class="icon">📧</span>
            <input type="email" id="loginEmail" required>
            <label>Email</label>
          </div>
          <div class="input-box" style="position:relative;">
            <span class="icon">🔒</span>
            <input type="password" id="loginPassword" required>
            <button type="button" id="toggleLoginPassword" aria-label="Mostrar contraseña" style="position:absolute; right:12px; top:50%; transform:translateY(-50%); background:none; border:none; cursor:pointer; font-size:1.1em;">👁️</button>
            <label>Password</label>
          </div>

          <div class="remember-forgot">
            <label><input type="checkbox" id="rememberMe"> Remember me</label>
            <a href="#" onclick="showForgotPassword()">Forgot Password?</a>
          </div>
          <button type="submit" class="btn">Login</button>
          
          <!-- DIV PARA EL BOTÓN DE GOOGLE -->
          <div id="googleSignInDiv"></div>
          
          <div class="login-register">
            <p>Don't have an account? <a href="#" class="register-link" onclick="showRegister()">Register</a></p>
          </div>
        </form>
      </div>

      <div class="form-box register">
        <h2>Registration</h2>
        <form id="registerForm">
          <div class="input-box">
            <span class="icon">👤</span>
            <input type="text" id="registerName" required>
            <label>Full Name</label>
          </div>
          <div class="input-box">
            <span class="icon">📧</span>
            <input type="email" id="registerEmail" required>
            <label>Email</label>
          </div>
          <div class="input-box">
            <span class="icon">🔒</span>
            <input type="password" id="registerPassword" required>
            <label>Password</label>
          </div>
          <div class="input-box">
            <span class="icon">🔒</span>
            <input type="password" id="confirmPassword" required>
            <label>Confirm Password</label>
          </div>
          <button type="submit" class="btn">Register</button>
          
          <!-- DIV PARA EL BOTÓN DE GOOGLE EN REGISTRO -->
          <div id="googleSignInDivRegister"></div>
          
          <div class="login-register">
            <p>Already have an account? <a href="#" class="login-link" onclick="showLogin()">Login</a></p>
          </div>
        </form>
      </div>

      <div class="form-box forgot-password">
        <h2>Reset Password</h2>
        <form id="forgotPasswordForm">
          <div class="input-box">
            <span class="icon">📧</span>
            <input type="email" id="forgotEmail" required>
            <label>Email</label>
          </div>
          <button type="submit" class="btn">Send Reset Link</button>
          <div class="login-register">
            <p>Remember your password? <a href="#" class="login-link" onclick="showLogin()">Back to Login</a></p>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- MODAL DE RESERVAS -->
  <div class="reservation-modal">
    <div class="reservation-content">
      <span class="close-reservation" onclick="closeReservationModal()">✖</span>
      <h2>Book Now</h2>
      
      <!-- NOTIFICACIÓN DE LOGIN REQUERIDO -->
      <div class="login-required" id="loginRequiredMessage">
        <p>⚠️ You must log in or sign up to book an appointment</p>
        <button class="login-required-btn" onclick="closeReservationModal(); openLoginModal();">Log In / Sign Up</button>
      </div>
      
      <form class="reservation-form" id="reservationForm">
        <div class="form-row">
          <div class="input-box">
            <input type="text" id="clientName" required>
            <label>Full Name</label>
          </div>
          <div class="input-box">
            <input type="tel" id="clientPhone" required>
            <label>Phone</label>
          </div>
        </div>
        <div class="input-box">
          <span class="icon">📧</span>
          <input type="email" id="clientEmail" required>
          <label>Email</label>
        </div>
        
        <div class="form-group">
          <label>Service Location</label>
          <div class="location-options">
            <div class="location-option" data-location="In Studio" onclick="selectLocation(this)">
              In Studio
            </div>
          </div>
        </div>
        
        <div class="form-row">
          <div class="input-box">
            <input type="date" id="appointmentDate" required>
            <label>Date</label>
          </div>
          <div class="input-box">
            <input type="time" id="appointmentTime" required>
            <label>Time</label>
          </div>
        </div>
        <div class="input-box">
          <select required id="serviceSelect" onchange="toggleServiceOptions()">
            <option value="">Select a Service</option>
            <option value="eyebrows">Eyebrows (Microblading / Powder Brows) - $80</option>
            <option value="eyelash_extensions">Eyelash Extensions - $100+</option>
            <option value="lash_lifting">Lash Lifting - $80</option>
            <option value="eyebrow_lifting">Eyebrow Lifting - $80</option>
            <option value="henna_brows">Henna Brows - $65</option>
            <option value="lip_micropigmentation">Lip Micropigmentation - $250</option>
            <option value="eyebrow_tattoo_removal">Tattoo Removal - Eyebrows - $250</option>
            <option value="tattoo_removal">Tattoo Removal - Other Areas - Consult Price</option>
          </select>
        </div>
        
        <!-- OPCIONES PARA EXTENSIONES DE PESTAÑAS -->
        <div class="service-options-container" id="eyelashOptionsContainer">
          <div class="service-options-title">Select Eyelash Extension Type</div>
          <div class="service-options">
            <div class="service-option" data-type="Volume" onclick="selectServiceOption(this)">
              Volume
            </div>
            <div class="service-option" data-type="Mega Volume" onclick="selectServiceOption(this)">
              Mega Volume
            </div>
            <div class="service-option" data-type="Classic" onclick="selectServiceOption(this)">
              Classic
            </div>
            <div class="service-option" data-type="Refill" onclick="selectServiceOption(this)">
              Refill
            </div>
          </div>
        </div>
        
        <!-- OPCIONES PARA CEJAS -->
        <div class="service-options-container" id="eyebrowsOptionsContainer">
          <div class="service-options-title">Select Eyebrows Service Type</div>
          <div class="service-options">
            <div class="service-option" data-type="New Service" onclick="selectServiceOption(this)">
              New Service
            </div>
            <div class="service-option" data-type="Touch-up" onclick="selectServiceOption(this)">
              Touch-up
            </div>
          </div>
        </div>
        
        <!-- OPCIONES PARA LABIOS -->
        <div class="service-options-container" id="lipsOptionsContainer">
          <div class="service-options-title">Select Lips Service Type</div>
          <div class="service-options">
            <div class="service-option" data-type="New Service" onclick="selectServiceOption(this)">
              New Service
            </div>
            <div class="service-option" data-type="Touch-up" onclick="selectServiceOption(this)">
              Touch-up
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="notes">Special Notes</label>
          <textarea id="notes" placeholder="Allergies, preferences, or special notes..." rows="3"></textarea>
        </div>
        <button type="submit" class="btn">Book Now</button>
      </form>
    </div>
  </div>

  <!-- MODAL DE PERFIL -->
  <div class="profile-modal">
    <div class="profile-content">
      <span class="close-profile" onclick="closeProfileModal()">✖</span>
      <h2>My Profile</h2>
      <div class="profile-info">
        <div class="settings-section">
          <h3>Personal Information</h3>
          <div class="input-box">
            <input type="text" id="profileName" required>
            <label>Full Name</label>
          </div>
          <div class="input-box">
            <input type="email" id="profileEmail" required>
            <label>Email</label>
          </div>
          <div class="input-box">
            <input type="tel" id="profilePhone" required>
            <label>Phone</label>
          </div>
        </div>
        <div class="form-actions">
          <button class="cancel-btn-settings" onclick="closeProfileModal()">Cancel</button>
          <button class="save-btn" onclick="saveProfile()">Save Changes</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL DE CITAS -->
  <div class="appointments-modal">
    <div class="appointments-content">
      <span class="close-appointments" onclick="closeAppointmentsModal()">✖</span>
      <h2>My Appointments</h2>
      <div class="appointments-list" id="appointmentsList">
        <!-- Las citas se cargarán dinámicamente aquí -->
      </div>
    </div>
  </div>

  <!-- MODAL DE FAVORITOS -->
  <div class="favorites-modal">
    <div class="favorites-content">
      <span class="close-favorites" onclick="closeFavoritesModal()">✖</span>
      <h2>My Favorites</h2>
      <div class="favorites-grid" id="favoritesList">
        <!-- Los favoritos se cargarán dinámicamente aquí -->
      </div>
    </div>
  </div>

  <!-- MODAL DE CONFIGURACIÓN -->
  <div class="settings-modal">
    <div class="settings-content">
      <span class="close-settings" onclick="closeSettingsModal()">✖</span>
      <h2>Settings</h2>
      <form class="settings-form">
        <div class="settings-section">
          <h3>Notification Preferences</h3>
          <div class="form-group">
            <label><input type="checkbox" checked> Email notifications</label>
          </div>
          <div class="form-group">
            <label><input type="checkbox" checked> Appointment reminders</label>
          </div>
          <div class="form-group">
            <label><input type="checkbox"> Special offers</label>
          </div>
        </div>
        
        <div class="settings-section">
          <h3>Privacy</h3>
          <div class="form-group">
            <label><input type="checkbox" checked> Public profile</label>
          </div>
          <div class="form-group">
            <label><input type="checkbox"> Show my reviews</label>
          </div>
        </div>
        
        <div class="form-actions">
          <button class="cancel-btn-settings" onclick="closeSettingsModal()">Cancel</button>
          <button class="save-btn" onclick="saveSettings()">Save Settings</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // ===== FUNCIONALIDAD RESPONSIVA =====
    
    // Detectar dispositivo móvil
    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    
    // Variables globales
    let userLoggedIn = false;
    let currentUser = null;
    let userAppointments = [];
    let userFavorites = [];
    let selectedServiceOption = '';

    // Menú hamburguesa
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mainNavigation = document.getElementById('mainNavigation');
    
    if (mobileMenuBtn && mainNavigation) {
      mobileMenuBtn.addEventListener('click', function() {
        mainNavigation.classList.toggle('active');
        this.innerHTML = mainNavigation.classList.contains('active') ? 
          '<i class="fas fa-times"></i>' : 
          '<i class="fas fa-bars"></i>';
      });
      
      // Cerrar menú al hacer clic en un enlace
      document.querySelectorAll('.navigation a').forEach(link => {
        link.addEventListener('click', () => {
          mainNavigation.classList.remove('active');
          if (mobileMenuBtn) {
            mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
          }
        });
      });
    }

    // Ajustar altura del home en móvil
    function adjustHomeHeight() {
      if (isMobile) {
        const homeSection = document.getElementById('home');
        const windowHeight = window.innerHeight;
        const headerHeight = document.querySelector('header').offsetHeight;
        
        if (homeSection) {
          homeSection.style.minHeight = `${windowHeight - headerHeight}px`;
        }
      }
    }
    
    // Ajustar al cargar y redimensionar
    window.addEventListener('load', adjustHomeHeight);
    window.addEventListener('resize', adjustHomeHeight);
    
    // Prevenir zoom en inputs de fecha/hora en iOS
    if (isMobile) {
      document.addEventListener('touchstart', function(e) {
        if (e.target.type === 'date' || e.target.type === 'time') {
          e.target.style.fontSize = '16px';
        }
      }, { passive: true });
    }

    // ===== FUNCIONES PARA MANEJAR OPCIONES DE SERVICIOS =====
    function toggleServiceOptions() {
      const serviceSelect = document.getElementById('serviceSelect');
      const eyelashOptionsContainer = document.getElementById('eyelashOptionsContainer');
      const eyebrowsOptionsContainer = document.getElementById('eyebrowsOptionsContainer');
      const lipsOptionsContainer = document.getElementById('lipsOptionsContainer');
      
      // Ocultar todos los contenedores primero
      eyelashOptionsContainer.classList.remove('active');
      eyebrowsOptionsContainer.classList.remove('active');
      lipsOptionsContainer.classList.remove('active');
      
      // Resetear selección previa
      selectedServiceOption = '';
      document.querySelectorAll('.service-option').forEach(option => {
        option.classList.remove('selected');
      });
      
      // Mostrar contenedores según el servicio seleccionado
      if (serviceSelect.value === 'eyelash_extensions') {
        eyelashOptionsContainer.classList.add('active');
      } else if (serviceSelect.value === 'eyebrows') {
        eyebrowsOptionsContainer.classList.add('active');
      } else if (serviceSelect.value === 'lip_micropigmentation') {
        lipsOptionsContainer.classList.add('active');
      }
    }

    function selectServiceOption(element) {
      // Deseleccionar todas las opciones del mismo contenedor
      const container = element.closest('.service-options-container');
      container.querySelectorAll('.service-option').forEach(option => {
        option.classList.remove('selected');
      });
      
      // Seleccionar la opción clickeada
      element.classList.add('selected');
      selectedServiceOption = element.getAttribute('data-type');
    }

    // ===== BASE DE DATOS DE USUARIOS =====
    function getUsers() {
      return JSON.parse(localStorage.getItem('gabysStyleUsers')) || [];
    }

    function saveUsers(users) {
      localStorage.setItem('gabysStyleUsers', JSON.stringify(users));
    }

    function getUserData(email) {
      return JSON.parse(localStorage.getItem(`user_${email}`)) || { appointments: [], favorites: [] };
    }

    function saveUserData(email, data) {
      localStorage.setItem(`user_${email}`, JSON.stringify(data));
    }

    // ===== FUNCIONES DE AUTENTICACIÓN =====
    function login() {
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      const rememberMe = document.getElementById('rememberMe').checked;
      
      if (!email || !password) {
        showNotification('Por favor, completa todos los campos', 'error');
        return;
      }

      const users = getUsers();
      const user = users.find(u => u.email === email && u.password === password);
      
      if (user) {
        userLoggedIn = true;
        currentUser = {
          name: user.name,
          email: user.email,
          phone: user.phone || '',
          avatar: user.name.charAt(0).toUpperCase()
        };
        
        // Guardar sesión si Remember Me está activado
        if (rememberMe) {
          localStorage.setItem('rememberedUser', JSON.stringify({
            email: user.email,
            rememberMe: true
          }));
        } else {
          localStorage.removeItem('rememberedUser');
        }
        
        // Cargar datos del usuario
        const userData = getUserData(user.email);
        userAppointments = userData.appointments || [];
        userFavorites = userData.favorites || [];
        
        updateUserInterface();
        closeLoginModal();
        showNotification(`Welcome back, ${user.name}!`);
      } else {
        showNotification('Correo electrónico o contraseña incorrectos', 'error');
      }
    }

    function register() {
      const name = document.getElementById('registerName').value;
      const email = document.getElementById('registerEmail').value;
      const password = document.getElementById('registerPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      
      if (!name || !email || !password || !confirmPassword) {
        showNotification('Please fill in all the fields', 'error');
        return;
      }

      if (password !== confirmPassword) {
        showNotification('Passwords do not match', 'error');
        return;
      }

      if (password.length < 6) {
        showNotification('The password must be at least 6 characters long', 'error');
        return;
      }

      const users = getUsers();
      
      if (users.find(u => u.email === email)) {
        showNotification('This email is already registered', 'error');
        return;
      }

      // Registrar nuevo usuario
      const newUser = {
        name: name,
        email: email,
        password: password,
        phone: '',
        createdAt: new Date().toISOString()
      };
      
      users.push(newUser);
      saveUsers(users);
      
      // Iniciar sesión automáticamente
      userLoggedIn = true;
      currentUser = {
        name: name,
        email: email,
        phone: '',
        avatar: name.charAt(0).toUpperCase()
      };
      
      // Inicializar datos del usuario
      userAppointments = [];
      userFavorites = [];
      saveUserData(email, { appointments: [], favorites: [] });
      
      updateUserInterface();
      closeLoginModal();
      showNotification(`You have successfully registered, ${name}!`);
    }

    // ===== GOOGLE AUTH FUNCTIONS =====
    function initializeGoogleSignIn() {
      if (typeof google === 'undefined') {
        setTimeout(initializeGoogleSignIn, 500);
        return;
      }
      
      // Inicializar el botón de Google para login
      google.accounts.id.initialize({
        client_id: "460424594977-cuo5kttqufdspj1vamu2dmo9tr9lpd5g.apps.googleusercontent.com",
        callback: handleGoogleResponse
      });
      
      // Renderizar el botón de Google
      if (document.getElementById("googleSignInDiv")) {
        google.accounts.id.renderButton(
          document.getElementById("googleSignInDiv"),
          { 
            theme: "outline", 
            size: "large",
            width: "100%",
            text: "signin_with",
            locale: "es"
          }
        );
      }
      
      // Inicializar el botón de Google para registro
      if (document.getElementById("googleSignInDivRegister")) {
        google.accounts.id.renderButton(
          document.getElementById("googleSignInDivRegister"),
          { 
            theme: "outline", 
            size: "large",
            width: "100%",
            text: "signup_with",
            locale: "es"
          }
        );
      }
    }

    function handleGoogleResponse(response) {
      // Decodificar el token JWT
      const responsePayload = decodeJWTResponse(response.credential);
      
      // Crear objeto de usuario de Google
      const googleUser = {
        name: responsePayload.name,
        email: responsePayload.email,
        avatar: responsePayload.name.charAt(0).toUpperCase(),
        picture: responsePayload.picture
      };
      
      // Procesar el login con Google
      googleLogin(googleUser);
    }

    function decodeJWTResponse(token) {
      const base64Url = token.split('.')[1];
      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
      const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
      }).join(''));
      
      return JSON.parse(jsonPayload);
    }

    function googleLogin(googleUser) {
      const users = getUsers();
      let user = users.find(u => u.email === googleUser.email);
      
      if (!user) {
        // Crear nuevo usuario si no existe
        user = {
          name: googleUser.name,
          email: googleUser.email,
          password: 'google_auth',
          phone: '',
          createdAt: new Date().toISOString(),
          isGoogleUser: true,
          picture: googleUser.picture
        };
        users.push(user);
        saveUsers(users);
        
        // Inicializar datos del usuario
        saveUserData(googleUser.email, { appointments: [], favorites: [] });
      }
      
      // Iniciar sesión
      userLoggedIn = true;
      currentUser = {
        name: user.name,
        email: user.email,
        phone: user.phone || '',
        avatar: googleUser.avatar,
        picture: user.picture
      };
      
      // Cargar datos del usuario
      const userData = getUserData(user.email);
      userAppointments = userData.appointments || [];
      userFavorites = userData.favorites || [];
      
      updateUserInterface();
      closeLoginModal();
      showNotification(`¡Bienvenida, ${user.name}!`);
    }

    function resetPassword() {
      const email = document.getElementById('forgotEmail').value;

      if (!email) {
        showNotification('Por favor, ingresa tu email', 'error');
        return;
      }

      const users = getUsers();
      const user = users.find(u => u.email === email);
      
      if (!user) {
        showNotification('No existe una cuenta con este email', 'error');
        return;
      }

      // Generar token de 6 dígitos
      const token = Math.floor(100000 + Math.random() * 900000).toString();
      const expires = Date.now() + 15 * 60 * 1000;

      // Guardar token localmente
      localStorage.setItem(`pwd_reset_${email}`, JSON.stringify({ token, expires }));
      localStorage.setItem(`pwd_reset_lastsent_${email}`, Date.now().toString());

      // Enviar token por correo usando el backend
      fetch('http://localhost:3000/send', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ type: 'reset', email, token })
      }).then(res => {
        if (res.ok) {
          showNotification('Se ha enviado un código de verificación a tu correo. Revisa tu bandeja.');
          showResetForm(email);
        } else {
          showNotification('Error al enviar el correo. Intenta de nuevo más tarde.', 'error');
        }
      }).catch(err => {
        console.error('Error enviando reset:', err);
        showNotification('No se pudo conectar con el servidor de correo.', 'error');
      });
    }

    function showResetForm(email) {
      const forgotBox = document.querySelector('.form-box.forgot-password');
      if (!forgotBox) return;
      forgotBox.innerHTML = `
        <h2>Reset Password</h2>
        <form id="resetConfirmForm">
          <div class="input-box">
            <span class="icon">🔢</span>
            <input type="text" id="resetToken" required>
            <label>Verification Code</label>
          </div>
          <div class="input-box">
            <span class="icon">🔒</span>
            <input type="password" id="newPassword" required>
            <label>New Password</label>
          </div>
          <div class="input-box">
            <span class="icon">🔒</span>
            <input type="password" id="confirmNewPassword" required>
            <label>Confirm New Password</label>
          </div>
          <div style="display:flex;gap:8px;align-items:center;">
            <button type="submit" class="btn">Reset Password</button>
            <button type="button" id="resendCodeBtn" class="btn" style="background:#fff;border:1px solid #e91e63;color:#e91e63;">Reenviar código</button>
          </div>
          <div style="margin-top:8px;display:flex;align-items:center;gap:8px;">
            <input type="checkbox" id="devShowToken" />
            <label for="devShowToken" style="font-size:12px;color:#cccccc;">Mostrar token (solo para pruebas locales)</label>
          </div>
          <div id="devTokenDisplay" style="margin-top:8px;padding:8px;background:#333;border:1px dashed #666;display:none;font-family:monospace;color:#fff;">Token: <span id="devTokenValue">—</span></div>
          <div class="login-register">
            <p>Remember your password? <a href="#" class="login-link" onclick="showLogin()">Back to Login</a></p>
          </div>
        </form>
      `;

      const form = document.getElementById('resetConfirmForm');
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        const enteredToken = document.getElementById('resetToken').value.trim();
        const newPwd = document.getElementById('newPassword').value;
        const confirmPwd = document.getElementById('confirmNewPassword').value;

        if (newPwd.length < 6) { showNotification('La contraseña debe tener al menos 6 caracteres', 'error'); return; }
        if (newPwd !== confirmPwd) { showNotification('Las contraseñas no coinciden', 'error'); return; }

        const stored = JSON.parse(localStorage.getItem(`pwd_reset_${email}`) || 'null');
        if (!stored) { showNotification('No se encontró un código de verificación válido. Solicita uno nuevo.', 'error'); return; }
        if (Date.now() > stored.expires) { showNotification('El código ha expirado. Solicita uno nuevo.', 'error'); return; }
        if (stored.token !== enteredToken) { showNotification('Código de verificación incorrecto', 'error'); return; }

        const users = getUsers();
        const idx = users.findIndex(u => u.email === email);
        if (idx === -1) { showNotification('Usuario no encontrado', 'error'); return; }
        users[idx].password = newPwd;
        saveUsers(users);

        localStorage.removeItem(`pwd_reset_${email}`);

        showNotification('Contraseña actualizada correctamente. Ya puedes iniciar sesión.');
        showLogin();
      });
    }

    function logout() {
      if (currentUser) {
        saveUserData(currentUser.email, {
          appointments: userAppointments,
          favorites: userFavorites
        });
      }
      
      userLoggedIn = false;
      currentUser = null;
      userAppointments = [];
      userFavorites = [];
      updateUserInterface();
      closeProfileDropdown();
      showNotification('Session closed successfully');
    }

    // ===== FUNCIONES PRINCIPALES =====
    function scrollToSection(sectionId) {
      document.getElementById(sectionId).scrollIntoView({ 
        behavior: 'smooth' 
      });
    }

    function openLoginModal() {
      document.querySelector('.wrapper').classList.add('active-popup');
      showLogin();
    }

    function closeLoginModal() {
      document.querySelector('.wrapper').classList.remove('active-popup', 'active', 'active-forgot');
    }

    function showLogin() {
      document.querySelector('.wrapper').classList.remove('active', 'active-forgot');
    }

    function showRegister() {
      document.querySelector('.wrapper').classList.add('active');
      document.querySelector('.wrapper').classList.remove('active-forgot');
    }

    function showForgotPassword() {
      document.querySelector('.wrapper').classList.add('active-forgot');
      document.querySelector('.wrapper').classList.remove('active');
    }

    function openReservationModal() {
      if (!userLoggedIn) {
        document.getElementById('loginRequiredMessage').style.display = 'block';
        document.getElementById('reservationForm').style.display = 'none';
      } else {
        document.getElementById('loginRequiredMessage').style.display = 'none';
        document.getElementById('reservationForm').style.display = 'block';
        
        // AUTORELLENAR con datos del usuario
        document.getElementById('clientName').value = currentUser.name;
        document.getElementById('clientEmail').value = currentUser.email;
        document.getElementById('clientPhone').value = currentUser.phone || '';
      }
      document.querySelector('.reservation-modal').classList.add('active');
      
      // Resetear opciones de servicios
      selectedServiceOption = '';
      document.querySelectorAll('.service-options-container').forEach(container => {
        container.classList.remove('active');
      });
      document.querySelectorAll('.service-option').forEach(option => {
        option.classList.remove('selected');
      });
    }

    function openServiceReservation(serviceType) {
      openReservationModal();
      setTimeout(() => {
        const select = document.getElementById('serviceSelect');
        select.value = serviceType;
        
        // Mostrar opciones según el servicio
        toggleServiceOptions();
      }, 100);
    }

    function closeReservationModal() {
      document.querySelector('.reservation-modal').classList.remove('active');
      document.getElementById('reservationForm').reset();
      document.querySelectorAll('.location-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      // Resetear opciones de servicios
      selectedServiceOption = '';
      document.querySelectorAll('.service-options-container').forEach(container => {
        container.classList.remove('active');
      });
      document.querySelectorAll('.service-option').forEach(option => {
        option.classList.remove('selected');
      });
    }

    function selectLocation(element) {
      document.querySelectorAll('.location-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      element.classList.add('selected');
    }

    // ===== FUNCIONES DEL MENÚ DESPLEGABLE =====
    function toggleProfileDropdown() {
      const dropdown = document.getElementById('profileDropdown');
      dropdown.classList.toggle('active');
    }

    function closeProfileDropdown() {
      const dropdown = document.getElementById('profileDropdown');
      dropdown.classList.remove('active');
    }

    function openProfileModal() {
      if (!userLoggedIn) {
        showNotification('You must log in to view your profile', 'error');
        return;
      }
      document.getElementById('profileName').value = currentUser.name;
      document.getElementById('profileEmail').value = currentUser.email;
      document.getElementById('profilePhone').value = currentUser.phone || '';
      document.querySelector('.profile-modal').classList.add('active');
      closeProfileDropdown();
    }

    function closeProfileModal() {
      document.querySelector('.profile-modal').classList.remove('active');
    }

    function openAppointmentsModal() {
      if (!userLoggedIn) {
        showNotification('You must log in to see your appointments', 'error');
        return;
      }
      document.querySelector('.appointments-modal').classList.add('active');
      loadAppointments();
      closeProfileDropdown();
    }

    function closeAppointmentsModal() {
      document.querySelector('.appointments-modal').classList.remove('active');
    }

    function openFavoritesModal() {
      if (!userLoggedIn) {
        showNotification('Debes iniciar sesión para ver tus favoritos', 'error');
        return;
      }
      document.querySelector('.favorites-modal').classList.add('active');
      loadFavorites();
      closeProfileDropdown();
    }

    function closeFavoritesModal() {
      document.querySelector('.favorites-modal').classList.remove('active');
    }

    function openSettingsModal() {
      if (!userLoggedIn) {
        showNotification('You must log in to access the settings', 'error');
        return;
      }
      document.querySelector('.settings-modal').classList.add('active');
      closeProfileDropdown();
    }

    function closeSettingsModal() {
      document.querySelector('.settings-modal').classList.remove('active');
    }

    // ===== FUNCIONES DE FAVORITOS =====
    function toggleFavorite(serviceId, button) {
      if (!userLoggedIn) {
        showNotification('You must log in to add favorites', 'error');
        openLoginModal();
        return;
      }

      const serviceData = {
        'eyebrows': { name: 'Eyebrows (Microblading / Powder Brows)', price: '$80', icon: '✏️' },
        'eyelash_extensions': { name: 'Eyelash Extensions', price: 'From $100', icon: '👁️' },
        'lash_lifting': { name: 'Lash Lifting', price: '$80', icon: '👁️' },
        'eyebrow_lifting': { name: 'Eyebrow Lifting', price: '$80', icon: '👁️' },
        'henna_brows': { name: 'Henna Brows', price: '$65', icon: '🎨' },
        'lip_micropigmentation': { name: 'Lip Micropigmentation', price: '$250', icon: '💋' },
        'eyebrow_tattoo_removal': { name: 'Tattoo Removal - Eyebrows', price: '$250', icon: '❌' },
        'tattoo_removal': { name: 'Tattoo Removal - Other Areas', price: 'Consult Price', icon: '❌' }
      };

      const service = serviceData[serviceId];
      const existingIndex = userFavorites.findIndex(fav => fav.id === serviceId);

      if (existingIndex > -1) {
        userFavorites.splice(existingIndex, 1);
        button.classList.remove('favorited');
        button.textContent = '❤️ Add to Favorites';
        showNotification('Service removed from favorites');
      } else {
        userFavorites.push({
          id: serviceId,
          name: service.name,
          price: service.price,
          icon: service.icon
        });
        button.classList.add('favorited');
        button.textContent = '✅ In Favorites';
        showNotification('Service added to favorites');
      }
      
      // Guardar cambios
      saveUserData(currentUser.email, {
        appointments: userAppointments,
        favorites: userFavorites
      });
    }

    function loadFavorites() {
      const favoritesList = document.getElementById('favoritesList');
      
      if (userFavorites.length === 0) {
        favoritesList.innerHTML = `
          <div class="no-favorites">
            <i>❤️</i>
            <h3>You have no favorites</h3>
            <p>Explore our services and add your favorites!</p>
          </div>
        `;
        return;
      }

      favoritesList.innerHTML = userFavorites.map(favorite => `
        <div class="favorite-card">
          <div class="favorite-icon">${favorite.icon}</div>
          <div class="favorite-info">
            <div class="favorite-name">${favorite.name}</div>
            <div class="favorite-price">${favorite.price}</div>
          </div>
          <button class="remove-favorite" onclick="removeFavorite('${favorite.id}')">Eliminar</button>
        </div>
      `).join('');
    }

    function removeFavorite(favoriteId) {
      userFavorites = userFavorites.filter(fav => fav.id !== favoriteId);
      loadFavorites();
      showNotification('Servicio eliminado de favoritos');
      saveUserData(currentUser.email, {
        appointments: userAppointments,
        favorites: userFavorites
      });
    }

    // ===== FUNCIONES DE GESTIÓN DE CITAS =====
    function loadAppointments() {
      const appointmentsList = document.getElementById('appointmentsList');
      
      if (userAppointments.length === 0) {
        appointmentsList.innerHTML = `
          <div class="no-appointments">
            <i>📅</i>
            <h3>No tienes citas programadas</h3>
            <p>¡Reserva tu primera cita ahora!</p>
            <button class="cta-btn" onclick="closeAppointmentsModal(); openReservationModal();" style="margin-top: 15px;">Reservar Cita</button>
          </div>
        `;
        return;
      }

      appointmentsList.innerHTML = userAppointments.map(appointment => `
        <div class="appointment-card ${appointment.status === 'cancelled' ? 'appointment-cancelled' : ''}">
          <div class="appointment-header">
            <div class="appointment-service">
              ${appointment.service}
              ${appointment.status === 'cancelled' ? '<span class="cancelled-badge">Cancelada</span>' : ''}
              ${appointment.status === 'confirmed' ? '<span class="cancelled-badge" style="background: #2e7d32;">Confirmada</span>' : ''}
            </div>
            <div class="appointment-status ${appointment.status === 'confirmed' ? 'status-confirmed' : appointment.status === 'pending' ? 'status-pending' : 'status-cancelled'}">
              ${appointment.status === 'confirmed' ? 'Confirmada' : appointment.status === 'pending' ? 'Pendiente' : 'Cancelada'}
            </div>
          </div>
          <div class="appointment-details">
            <div class="appointment-date">
              <i>📅</i>
              <span>${formatDate(appointment.date)}</span>
            </div>
            <div class="appointment-time">
              <i>⏰</i>
              <span>${appointment.time}</span>
            </div>
            <div class="appointment-location">
              <i>📍</i>
              <span>${appointment.location}</span>
            </div>
            ${appointment.serviceType ? `
            <div class="appointment-detail">
              <i>⚙️</i>
              <span>Tipo: ${appointment.serviceType}</span>
            </div>
            ` : ''}
          </div>
          ${appointment.status !== 'cancelled' ? `
            <div class="appointment-actions">
              <button class="cancel-btn" onclick="showCancelConfirmation(${appointment.id})">Cancelar</button>
            </div>
            <div class="cancel-confirmation" id="cancelConfirmation${appointment.id}">
              <p>¿Estás segura de que quieres cancelar esta cita?</p>
              <div class="confirmation-buttons">
                <button class="confirm-cancel" onclick="cancelAppointment(${appointment.id})">Sí, Cancelar</button>
                <button class="cancel-cancel" onclick="hideCancelConfirmation(${appointment.id})">No, Mantener</button>
              </div>
            </div>
          ` : `
            <div class="appointment-actions">
              <button class="delete-btn" onclick="deleteAppointment(${appointment.id})">Eliminar de la lista</button>
            </div>
          `}
        </div>
      `).join('');
    }

    function showCancelConfirmation(appointmentId) {
      document.getElementById(`cancelConfirmation${appointmentId}`).style.display = 'block';
    }

    function hideCancelConfirmation(appointmentId) {
      document.getElementById(`cancelConfirmation${appointmentId}`).style.display = 'none';
    }

    function cancelAppointment(appointmentId) {
      const appointmentIndex = userAppointments.findIndex(apt => apt.id === appointmentId);
      
      if (appointmentIndex !== -1) {
        userAppointments[appointmentIndex].status = 'cancelled';
        loadAppointments();
        showNotification('Cita cancelada correctamente');
        saveUserData(currentUser.email, {
          appointments: userAppointments,
          favorites: userFavorites
        });
        
        // Enviar notificación por email
        sendCancellationEmail(userAppointments[appointmentIndex]);
      }
    }

    function deleteAppointment(appointmentId) {
      userAppointments = userAppointments.filter(apt => apt.id !== appointmentId);
      loadAppointments();
      showNotification('Cita eliminada de tu lista');
      saveUserData(currentUser.email, {
        appointments: userAppointments,
        favorites: userFavorites
      });
    }

    function saveProfile() {
      const name = document.getElementById('profileName').value;
      const email = document.getElementById('profileEmail').value;
      const phone = document.getElementById('profilePhone').value;
      
      // Actualizar en la base de datos
      const users = getUsers();
      const userIndex = users.findIndex(u => u.email === currentUser.email);
      
      if (userIndex !== -1) {
        users[userIndex].name = name;
        users[userIndex].email = email;
        users[userIndex].phone = phone;
        saveUsers(users);
      }
      
      // Actualizar datos actuales
      currentUser.name = name;
      currentUser.email = email;
      currentUser.phone = phone;
      currentUser.avatar = name.charAt(0).toUpperCase();
      
      updateUserInterface();
      closeProfileModal();
      showNotification('Profile updated successfully');
    }

    function saveSettings() {
      closeSettingsModal();
      showNotification('Settings saved successfully');
    }

    function formatDate(dateString) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      return new Date(dateString).toLocaleDateString('es-ES', options);
    }

    function updateUserInterface() {
      const userProfile = document.getElementById('userProfile');
      const loginBtn = document.getElementById('loginBtn');
      const userAvatar = document.getElementById('userAvatar');
      const userName = document.getElementById('userName');
      const userEmail = document.getElementById('userEmail');
      
      if (userLoggedIn && currentUser) {
        userProfile.style.display = 'flex';
        loginBtn.style.display = 'none';
        userAvatar.textContent = currentUser.avatar;
        userName.textContent = currentUser.name;
        userEmail.textContent = currentUser.email;
      } else {
        userProfile.style.display = 'none';
        loginBtn.style.display = 'block';
      }
    }

    // ===== SISTEMA DE NOTIFICACIONES CON EMAILJS =====
    function sendAppointmentNotifications(appointment) {
      console.log('🔔 Enviando notificaciones por email...', appointment);
      
      sendAppointmentEmailToGaby(appointment);
      sendConfirmationEmailToClient(appointment);
    }

    // EMAIL A GABY
    function sendAppointmentEmailToGaby(appointment) {
      const templateParams = {
        client_name: appointment.clientName,
        client_email: appointment.clientEmail,
        client_phone: appointment.clientPhone,
        service: appointment.service,
        date: appointment.date,
        time: appointment.time,
        location: appointment.location,
        notes: appointment.notes,
        appointment_id: appointment.id,
        user_email: currentUser.email,
        to_email: 'gabysstylellc24@gmail.com',
        service_type: appointment.serviceType || 'No especificado'
      };

      console.log('📧 Enviando email a Gaby...', templateParams);

      emailjs.send('service_wmf78jq', 'template_506avmk', templateParams)
          .then(function(response) {
              console.log('✅ Email enviado a Gaby:', response);
          }, function(error) {
              console.error('❌ Error enviando email a Gaby:', error);
          });
    }

    // EMAIL DE CONFIRMACIÓN AL CLIENTE
    function sendConfirmationEmailToClient(appointment) {
      const templateParams = {
        client_name: appointment.clientName,
        service: appointment.service,
        date: appointment.date,
        time: appointment.time,
        location: appointment.location,
        notes: appointment.notes,
        to_email: appointment.clientEmail,
        service_type: appointment.serviceType || ''
      };

      emailjs.send('service_wmf78jq', 'template_eauk9ak', templateParams)
          .then(function(response) {
              console.log('✅ Email de confirmación enviado al cliente:', response);
          }, function(error) {
              console.error('❌ Error enviando email de confirmación:', error);
          });
    }

    // EMAIL DE CANCELACIÓN
    function sendCancellationEmail(appointment) {
      const templateParams = {
        client_name: appointment.clientName,
        service: appointment.service,
        date: appointment.date,
        time: appointment.time,
        to_email: appointment.clientEmail
      };

      emailjs.send('service_wmf78jq', 'template_eauk9ak', templateParams)
          .then(function(response) {
              console.log('✅ Email de cancelación enviado:', response);
          }, function(error) {
              console.error('❌ Error enviando email de cancelación:', error);
          });
    }

    // ===== SISTEMA DE NOTIFICACIONES =====
    function showNotification(message, type = 'success') {
      const notification = document.getElementById('notification');
      const notificationText = document.getElementById('notificationText');
      
      notificationText.textContent = message;
      notification.style.background = type === 'error' ? '#f44336' : '#e91e63';
      notification.classList.add('active');
      
      setTimeout(() => {
        notification.classList.remove('active');
      }, 4000);
    }

    // ===== VERIFICAR SESIÓN RECORDADA =====
    function checkRememberedUser() {
      const rememberedUser = localStorage.getItem('rememberedUser');
      if (rememberedUser) {
        const userData = JSON.parse(rememberedUser);
        if (userData.rememberMe) {
          const users = getUsers();
          const user = users.find(u => u.email === userData.email);
          if (user) {
            // Iniciar sesión automáticamente
            userLoggedIn = true;
            currentUser = {
              name: user.name,
              email: user.email,
              phone: user.phone || '',
              avatar: user.name.charAt(0).toUpperCase()
            };
            
            // Cargar datos del usuario
            const userData = getUserData(user.email);
            userAppointments = userData.appointments || [];
            userFavorites = userData.favorites || [];
            
            updateUserInterface();
            showNotification(`Welcome Back, ${user.name}!`);
          }
        }
      }
    }

    // ===== EVENT LISTENERS AL CARGAR =====
    document.addEventListener('DOMContentLoaded', function() {
      // Verificar sesión recordada
      checkRememberedUser();

      // Inicializar Google Sign-In
      initializeGoogleSignIn();

      // Ajustar fecha mínima
      const dateInput = document.getElementById('appointmentDate');
      if (dateInput) {
        const today = new Date().toISOString().split('T')[0];
        dateInput.min = today;
        
        // Para móviles, establecer fecha por defecto (mañana)
        if (isMobile) {
          const tomorrow = new Date();
          tomorrow.setDate(tomorrow.getDate() + 1);
          dateInput.value = tomorrow.toISOString().split('T')[0];
        }
      }

      // Toggle mostrar/ocultar contraseña en el login
      const toggleLoginPwdBtn = document.getElementById('toggleLoginPassword');
      const loginPwdInput = document.getElementById('loginPassword');
      if (toggleLoginPwdBtn && loginPwdInput) {
        toggleLoginPwdBtn.addEventListener('click', () => {
          if (loginPwdInput.type === 'password') {
            loginPwdInput.type = 'text';
            toggleLoginPwdBtn.textContent = '🙈';
            toggleLoginPwdBtn.setAttribute('aria-label', 'Ocultar contraseña');
          } else {
            loginPwdInput.type = 'password';
            toggleLoginPwdBtn.textContent = '👁️';
            toggleLoginPwdBtn.setAttribute('aria-label', 'Mostrar contraseña');
          }
        });
      }

      // Sistema de estrellas para reviews
      const stars = document.querySelectorAll('.star');
      stars.forEach(star => {
        star.addEventListener('click', function() {
          const rating = this.getAttribute('data-rating');
          stars.forEach(s => {
            if (s.getAttribute('data-rating') <= rating) {
              s.classList.add('active');
            } else {
              s.classList.remove('active');
            }
          });
        });
      });

      // Reseñas: obtener/guardar y mostrar
      function getReviews() {
        return JSON.parse(localStorage.getItem('gabys_reviews')) || [];
      }

      function saveReviews(reviews) {
        localStorage.setItem('gabys_reviews', JSON.stringify(reviews));
      }

      function renderReviewCard(review) {
        const avatar = review.name ? review.name.charAt(0).toUpperCase() : 'U';
        const stars = '★'.repeat(review.rating) + '☆'.repeat(5 - review.rating);
        const canDelete = userLoggedIn && currentUser && review.email && currentUser.email === review.email;
        return `
          <div class="review-card" data-review-id="${review.id}">
            <div class="review-header">
              <div class="review-avatar">${avatar}</div>
              <div class="review-info">
                <h4>${escapeHtml(review.name)}</h4>
                <div class="review-stars">${stars}</div>
              </div>
              ${canDelete ? `<button class="delete-review" onclick="deleteReview(${review.id})" title="Eliminar reseña">🗑️</button>` : ''}
            </div>
            <p class="review-text">${escapeHtml(review.text)}</p>
          </div>
        `;
      }

      function loadReviews() {
        const container = document.getElementById('dynamicReviews');
        if (!container) return;
        const reviews = getReviews();
        if (reviews.length === 0) {
          container.innerHTML = ''; return;
        }
        container.innerHTML = reviews.slice().reverse().map(r => renderReviewCard(r)).join('');
      }

      function escapeHtml(unsafe) {
        return String(unsafe)
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#039;');
      }

      // Formulario de reviews
      document.getElementById('reviewForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const name = document.getElementById('reviewName').value.trim();
        const text = document.getElementById('reviewText').value.trim();
        const activeStar = Array.from(document.querySelectorAll('#starsRating .star.active')).pop();
        const rating = activeStar ? parseInt(activeStar.getAttribute('data-rating')) : 5;

        if (!userLoggedIn) {
          showNotification('Debes iniciar sesión para enviar una reseña.', 'error');
          openLoginModal();
          return;
        }

        if (!name || !text) {
          showNotification('Please provide your name and review text.', 'error');
          return;
        }

        const reviews = getReviews();
        reviews.push({ id: Date.now(), name, rating, text, date: new Date().toISOString(), email: currentUser ? currentUser.email : null, verified: !!(currentUser) });
        saveReviews(reviews);
        loadReviews();
        showNotification('Gracias por tu reseña!');
        e.target.reset();
        stars.forEach(star => star.classList.remove('active'));
      });

      // Cargar reseñas guardadas al iniciar
      loadReviews();

      // Eliminar reseña por id
      window.deleteReview = function(reviewId) {
        const reviews = getReviews();
        const idx = reviews.findIndex(r => r.id === reviewId);
        if (idx === -1) return;
        if (!(userLoggedIn && currentUser && reviews[idx].email && currentUser.email === reviews[idx].email)) {
          showNotification('No tienes permiso para eliminar esta reseña.', 'error');
          return;
        }
        reviews.splice(idx, 1);
        saveReviews(reviews);
        loadReviews();
        showNotification('Reseña eliminada');
      };

      // Formulario de login
      document.getElementById('loginForm').addEventListener('submit', (e) => {
        e.preventDefault();
        login();
      });

      // Formulario de registro
      document.getElementById('registerForm').addEventListener('submit', (e) => {
        e.preventDefault();
        register();
      });

      // Formulario de recuperación de contraseña
      document.getElementById('forgotPasswordForm').addEventListener('submit', (e) => {
        e.preventDefault();
        resetPassword();
      });

      // Formulario de reservas
      document.getElementById('reservationForm').addEventListener('submit', function(e) {
        e.preventDefault();
        if (!userLoggedIn) {
          showNotification('You must log in to book an appointment.', 'error');
          closeReservationModal();
          openLoginModal();
          return;
        }
        
        const serviceSelect = document.getElementById('serviceSelect');
        const serviceText = serviceSelect.options[serviceSelect.selectedIndex].text;
        const serviceValue = serviceSelect.value;
        
        let validationRequired = false;
        let errorMessage = '';
        
        if (serviceValue === 'eyelash_extensions' && !selectedServiceOption) {
          validationRequired = true;
          errorMessage = 'Please select an eyelash extension type (Volume, Mega Volume, Classic, or Refill)';
        } else if (serviceValue === 'eyebrows' && !selectedServiceOption) {
          validationRequired = true;
          errorMessage = 'Please select if this is a New Service or Touch-up';
        } else if (serviceValue === 'lip_micropigmentation' && !selectedServiceOption) {
          validationRequired = true;
          errorMessage = 'Please select if this is a New Service or Touch-up';
        }
        
        if (validationRequired) {
          showNotification(errorMessage, 'error');
          return;
        }
        
        const newAppointment = {
          id: Date.now(),
          service: serviceText,
          date: document.getElementById('appointmentDate').value,
          time: document.getElementById('appointmentTime').value,
          location: document.querySelector('.location-option.selected') ? 
                   document.querySelector('.location-option.selected').getAttribute('data-location') : 'In Studio',
          status: "pending",
          clientName: document.getElementById('clientName').value,
          clientEmail: document.getElementById('clientEmail').value,
          clientPhone: document.getElementById('clientPhone').value,
          notes: document.getElementById('notes').value || 'No hay notas especificadas',
          serviceType: selectedServiceOption || null
        };
        
        userAppointments.push(newAppointment);
        
        saveUserData(currentUser.email, {
          appointments: userAppointments,
          favorites: userFavorites
        });
        
        sendAppointmentNotifications(newAppointment);
        
        showNotification('Appointment successfully booked! 📅 A confirmation email has been sent.');
        closeReservationModal();
        this.reset();
        
        selectedServiceOption = '';
        document.querySelectorAll('.service-options-container').forEach(container => {
          container.classList.remove('active');
        });
        document.querySelectorAll('.service-option').forEach(option => {
          option.classList.remove('selected');
        });
      });

      // Botón Login del header
      document.querySelector('.btnLogin-popup').addEventListener('click', openLoginModal);

      // Cerrar modales al hacer clic fuera
      window.addEventListener('click', (e) => {
        if (e.target === document.querySelector('.reservation-modal')) {
          closeReservationModal();
        }
        if (e.target === document.querySelector('.wrapper')) {
          closeLoginModal();
        }
        if (e.target === document.querySelector('.profile-modal')) {
          closeProfileModal();
        }
        if (e.target === document.querySelector('.appointments-modal')) {
          closeAppointmentsModal();
        }
        if (e.target === document.querySelector('.favorites-modal')) {
          closeFavoritesModal();
        }
        if (e.target === document.querySelector('.settings-modal')) {
          closeSettingsModal();
        }
        if (!e.target.closest('.user-profile')) {
          closeProfileDropdown();
        }
      });

      // Cerrar menú hamburguesa al hacer clic fuera en móvil
      if (isMobile) {
        document.addEventListener('click', (e) => {
          if (!e.target.closest('.navigation') && !e.target.closest('.mobile-menu-btn')) {
            mainNavigation.classList.remove('active');
            if (mobileMenuBtn) {
              mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            }
          }
        });
      }
    });
  </script>
</body>
</html>



